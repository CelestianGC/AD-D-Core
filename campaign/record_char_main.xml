<?xml version="1.0" encoding="iso-8859-1"?>

<!-- 
  Please see the license.html file included with this distribution for 
  attribution and copyright information.
-->

<root>
	<windowclass name="charsheet_main" >
        <script file="campaign/scripts/char_main.lua" />
        <margins control="15,0,0,0" />
		<sheetdata>
			<anchor_title_charsheet name="contentanchor" >
                <anchored>
                    <top offset="5" />
                    <!-- <left parent="" anchor="left" offset="35" />
                    <right parent="" anchor="right" offset="-30" /> -->
                </anchored>
            </anchor_title_charsheet>
			<!-- <number_charlevel name="level">
				<bounds>0,0,0,0</bounds>
				<invisible />
			</number_charlevel> -->

			<label_charframetop name="classleveltitle">
				<!-- <anchored height="20">
					<top offset="10" />
					<left offset="15" />
					<right offset="-260" />
				</anchored> -->
				<anchored to="contentanchor" height="20">
					<top anchor="bottomleft" relation="relative" offset="7" />
					<left offset="5" />
					<right offset="-210" />
				</anchored>
				<icons>char_class</icons>
				<static textres="char_label_classlevel" />
			</label_charframetop>
			<stringc_charclasslevel name="classlevel">
				<anchored to="classleveltitle" position="insidetopleft" offset="-5,25">
					<right offset="-10" />
				</anchored>
			</stringc_charclasslevel>
			<button_charclasslevel name="button_classlevel">
				<anchored to="classlevel" position="righthigh" offset="0,0" />
			</button_charclasslevel>

			<label_charframetop name="backgroundtitle">
				<anchored to="classleveltitle" position="righthigh" offset="35,0" height="20" width="130">
                </anchored>
				<icons>char_background</icons>
				<static textres="char_label_background" />
			</label_charframetop>
			<linkfield name="backgroundlink">
				<anchored to="backgroundtitle" position="belowright" offset="-10,5" width="20" height="20" />
				<description field="background" />
				<closetoggle />
				<invisible />
				<script>
					function onInit()
						onValueChanged();
					end
					function onValueChanged()
						if isEmpty() then
							setVisible(false);
						else
							setVisible(true);
						end
					end
				</script>
			</linkfield>
			<stringu name="background">
				<anchored to="backgroundtitle" position="belowleft" offset="-5,5" height="20">
					<right parent="backgroundlink" anchor="left" offset="-5" />
				</anchored>
			</stringu>


<!-- Ability Scores -->
			<label_charframetop name="statstitle">
				<!-- <anchored height="20" width="303">
					<top offset="70" />
					<left offset="15" />
				</anchored> -->
				<anchored to="contentanchor" height="20" >
					<top anchor="bottom" offset="35" relation="relative" />
					<left offset="5" />
					<right offset="-210" />
				</anchored>
				<icons>char_abilities</icons>
				<static textres="char_label_stats" />
			</label_charframetop>
			
            <button_charabiltiesdetail name="abilities_details">
                <tooltip textres="ability_details_tooltip" />
				<anchored to="statstitle" position="insidetopright" offset="0,0">
				</anchored>
            </button_charabiltiesdetail>
            
			<!-- Ability STR -->
			<number_charabilityscore2 name="strength" source="abilities.strength.score" >
				<tooltip textres="char_tooltip_strength" />
				<anchored offset="-10,35"  width="45" height="45"/>
				<target>strength</target>
			</number_charabilityscore2>
 			<label_abilityscore>
				<anchored to="strength" />
				<static textres="STR" />
			</label_abilityscore>

			<ability_fields_container name="strdetailframe">
				<anchored to="strength" />
			</ability_fields_container>			
			
            <percentile_abilityfield name="strength_percent" source="abilities.strength.percent">
   				<center />
                <min> 0 </min>
                <max> 100 </max>
				<anchored to="strdetailframe" position="insidetopleft" offset="5,6" width="30" height="30"/>
				<labelres>char_label_ability_percent</labelres>
				<tooltip textres="char_tooltip_percentile" />
				<script>
					function onValueChanged()
                        local rActor = ActorManager.getActor("pc", window.getDatabaseNode());
                        local sActorType, nodeActor = ActorManager.getTypeAndNode(rActor);
                        local nScore = DB.getValue(nodeActor, "abilities.strength.score", 0);
                        AbilityScores.updateStrength(nodeActor,nScore);
					end
				</script>
			</percentile_abilityfield>
 			<label_ability_fields>
				<anchored to="strength_percent" />
   				<tooltip textres="char_tooltip_percentile" />
				<static textres="char_label_ability_percent" />
			</label_ability_fields>

			<number_abilityfield name="strength_hitadj" source="abilities.strength.hitadj">
				<anchored to="strength_percent" />
				<tooltip textres="char_tooltip_strength_hitadj" />
				<labelres>char_label_strength_hitadj</labelres>
			</number_abilityfield>
  			<label_ability_fields>
				<anchored to="strength_hitadj" />
   				<tooltip textres="char_tooltip_strength_hitadj" />
				<static textres="char_label_strength_hitadj" />
			</label_ability_fields>
			
			<number_abilityfield name="strength_dmgadj" source="abilities.strength.dmgadj">
				<anchored to="strength_hitadj" />
				<tooltip textres="char_tooltip_strength_dmgadj" />
				<labelres>char_label_strength_dmgadj</labelres>
			</number_abilityfield>
 			<label_ability_fields>
				<anchored to="strength_dmgadj" />
   				<tooltip textres="char_tooltip_strength_dmgadj" />
				<static textres="char_label_strength_dmgadj" />
			</label_ability_fields>

			<number_abilityfield_noplus name="strength_weightallow" source="abilities.strength.weightallow">
				<anchored to="strength_dmgadj" />
				<tooltip textres="char_tooltip_strength_weightallow" />
				<labelres>char_label_strength_weightallow</labelres>
			</number_abilityfield_noplus>
 			<label_ability_fields>
				<anchored to="strength_weightallow" />
   				<tooltip textres="char_tooltip_strength_weightallow" />
				<static textres="char_label_strength_weightallow" />
			</label_ability_fields>

			<number_abilityfield_noplus name="strength_maxpress" source="abilities.strength.maxpress">
				<anchored to="strength_weightallow"/>
				<tooltip textres="char_tooltip_strength_maxpress" />
				<labelres>char_label_strength_maxpress</labelres>
			</number_abilityfield_noplus>
 			<label_ability_fields>
				<anchored to="strength_maxpress" />
   				<tooltip textres="char_tooltip_strength_maxpress" />
				<static textres="char_label_strength_maxpress" />
			</label_ability_fields>

			<string_abilityfield name="strength_opendoors" source="abilities.strength.opendoors">
				<anchored to="strength_maxpress"/>
				<tooltip textres="char_tooltip_strength_opendoors" />
				<labelres>char_label_strength_opendoors</labelres>
			</string_abilityfield>
 			<label_ability_fields>
				<anchored to="strength_opendoors" />
   				<tooltip textres="char_tooltip_strength_opendoors" />
				<static textres="char_label_strength_opendoors" />
			</label_ability_fields>

			<number_abilityfield_noplus name="strength_bendbars" source="abilities.strength.bendbars">
				<anchored to="strength_opendoors"/>
				<tooltip textres="char_tooltip_strength_bendbars" />
				<labelres>char_label_strength_bendbars</labelres>
			</number_abilityfield_noplus>
 			<label_ability_fields>
				<anchored to="strength_bendbars" />
   				<tooltip textres="char_tooltip_strength_bendbars" />
				<static textres="char_label_strength_bendbars" />
			</label_ability_fields>

 			<!-- Ability DEX -->

			<number_charabilityscore2 name="dexterity" source="abilities.dexterity.score">
				<tooltip textres="char_tooltip_dexterity" />
				<anchored to="strength" position="below" offset="0,5" height="45"/>
				<target>dexterity</target>
			</number_charabilityscore2>
 			<label_abilityscore>
				<anchored to="dexterity" />
				<static textres="DEX" />
			</label_abilityscore>
			
			<ability_fields_container name="dexdetailframe">
				<anchored to="dexterity" />
			</ability_fields_container>			

            <percentile_abilityfield name="dexterity_percent" source="abilities.dexterity.percent">
   				<center />
                <min> 0 </min>
                <max> 100 </max>
				<anchored to="dexdetailframe" position="insidetopleft" offset="5,6" width="30" height="30"/>
				<labelres>char_label_ability_percent</labelres>
				<tooltip textres="char_tooltip_percentile" />
				<script>
					function onValueChanged()
                        local rActor = ActorManager.getActor("pc", window.getDatabaseNode());
                        local sActorType, nodeActor = ActorManager.getTypeAndNode(rActor);
                        local nScore = DB.getValue(nodeActor, "abilities.dexterity.score", 0);
                        AbilityScores.updateDexterity(nodeActor,nScore);
					end
				</script>
			</percentile_abilityfield>
 			<label_ability_fields>
				<anchored to="dexterity_percent" />
   				<tooltip textres="char_tooltip_percentile" />
				<static textres="char_label_ability_percent" />
			</label_ability_fields>

			<!-- Dex ability fields -->
			<number_abilityfield name="dexterity_reactionadj" source="abilities.dexterity.reactionadj">
				<anchored to="dexterity_percent"  width="80"/>
				<tooltip textres="char_tooltip_dexterity_reactionadj" />
				<labelres>char_label_dexterity_reactionadj</labelres>
			</number_abilityfield>
  			<label_ability_fields>
				<anchored to="dexterity_reactionadj" />
   				<tooltip textres="char_tooltip_dexterity_reactionadj" />
				<static textres="char_label_dexterity_reactionadj" />
			</label_ability_fields>

			<number_abilityfield name="dexterity_missileadj" source="abilities.dexterity.hitadj">
				<anchored to="dexterity_reactionadj" width="80" />
				<tooltip textres="char_tooltip_dexterity_missileadj"  />
				<labelres>char_label_dexterity_missileadj</labelres>
			</number_abilityfield>
  			<label_ability_fields>
				<anchored to="dexterity_missileadj" />
   				<tooltip textres="char_tooltip_dexterity_missileadj" />
				<static textres="char_label_dexterity_missileadj" />
			</label_ability_fields>
			
			<number_abilityfield name="dexterity_defenseadj" source="abilities.dexterity.defenseadj">
				<anchored to="dexterity_missileadj" width="80" />
				<tooltip textres="char_tooltip_dexterity_defenseadj" />
				<labelres>char_label_dexterity_defenseadj</labelres>
			</number_abilityfield>
  			<label_ability_fields>
				<anchored to="dexterity_defenseadj" />
   				<tooltip textres="char_tooltip_dexterity_defenseadj" />
				<static textres="char_label_dexterity_defenseadj" />
			</label_ability_fields>
			
			<!-- Ability Con -->
			<number_charabilityscore2 name="constitution" source="abilities.constitution.score">
				<tooltip textres="char_tooltip_constitution" />
				<anchored to="dexterity" position="below" offset="0,5"  height="45"/>
				<target>constitution</target>
			</number_charabilityscore2>
 			<label_abilityscore>
				<anchored to="constitution" />
				<static textres="CON" />
			</label_abilityscore>
			
			<ability_fields_container name="condetailframe">
				<anchored to="constitution" />
			</ability_fields_container>			
			
            <percentile_abilityfield name="constitution_percent" source="abilities.constitution.percent">
   				<center />
                <min> 0 </min>
                <max> 100 </max>
				<anchored to="condetailframe" position="insidetopleft" offset="5,6" width="30" height="30"/>
				<labelres>char_label_ability_percent</labelres>
				<tooltip textres="char_tooltip_percentile" />
				<script>
					function onValueChanged()
                        local rActor = ActorManager.getActor("pc", window.getDatabaseNode());
                        local sActorType, nodeActor = ActorManager.getTypeAndNode(rActor);
                        local nScore = DB.getValue(nodeActor, "abilities.constitution.score", 0);
                        AbilityScores.updateConstitution(nodeActor,nScore);
					end
				</script>
			</percentile_abilityfield>
 			<label_ability_fields>
				<anchored to="constitution_percent" />
   				<tooltip textres="char_tooltip_percentile" />
				<static textres="char_label_ability_percent" />
			</label_ability_fields>

			<!-- CON ability fields -->
			<string_abilityfield name="constitution_hitpointadj" source="abilities.constitution.hitpointadj">
				<anchored to="constitution_percent" />
				<tooltip textres="char_tooltip_constitution_hitpointadj" />
				<labelres>char_label_constitution_hitpointadj</labelres>
			</string_abilityfield>
   			<label_ability_fields>
				<anchored to="constitution_hitpointadj" />
   				<tooltip textres="char_tooltip_constitution_hitpointadj" />
				<static textres="char_label_constitution_hitpointadj" />
			</label_ability_fields>
			
			<number_abilityfield_noplus name="constitution_systemshock" source="abilities.constitution.systemshock">
				<anchored to="constitution_hitpointadj" />
				<tooltip textres="char_tooltip_constitution_systemshock" />
				<labelres>char_label_constitution_systemshock</labelres>
			</number_abilityfield_noplus>
   			<label_ability_fields>
				<anchored to="constitution_systemshock" />
   				<tooltip textres="char_tooltip_constitution_systemshock" />
				<static textres="char_label_constitution_systemshock" />
			</label_ability_fields>

			<number_abilityfield_noplus name="constitution_resurrectionsurvival" source="abilities.constitution.resurrectionsurvival">
				<anchored to="constitution_systemshock" />
				<tooltip textres="char_tooltip_constitution_resurrectionsurvival" />
				<labelres>char_label_constitution_resurrectionsurvival</labelres>
			</number_abilityfield_noplus>
   			<label_ability_fields>
				<anchored to="constitution_resurrectionsurvival" />
   				<tooltip textres="char_tooltip_constitution_resurrectionsurvival" />
				<static textres="char_label_constitution_resurrectionsurvival" />
			</label_ability_fields>

			<number_abilityfield name="constitution_poisonadj" source="abilities.constitution.poisonadj">
				<anchored to="constitution_resurrectionsurvival" />
				<tooltip textres="char_tooltip_constitution_poisonadj" />
				<labelres>char_label_constitution_poisonadj</labelres>
			</number_abilityfield>
   			<label_ability_fields>
				<anchored to="constitution_poisonadj" />
   				<tooltip textres="char_tooltip_constitution_poisonadj" />
				<static textres="char_label_constitution_poisonadj" />
			</label_ability_fields>

			<string_abilityfield name="constitution_regeneration" source="abilities.constitution.regeneration">
				<anchored to="constitution_poisonadj" width="80"/>
				<tooltip textres="char_tooltip_constitution_regeneration" />
				<labelres>char_label_constitution_regeneration</labelres>
			</string_abilityfield>
   			<label_ability_fields>
				<anchored to="constitution_regeneration" />
   				<tooltip textres="char_tooltip_constitution_regeneration" />
				<static textres="char_label_constitution_regeneration" />
			</label_ability_fields>
			
			<!-- Ability INT -->
			<number_charabilityscore2 name="intelligence" source="abilities.intelligence.score">
				<tooltip textres="char_tooltip_intelligence" />
				<anchored to="constitution" position="below" offset="0,5" height="45"/>
				<target>intelligence</target>
			</number_charabilityscore2>
 			<label_abilityscore>
				<anchored to="intelligence" />
				<static textres="INT" />
			</label_abilityscore>
			
			<ability_fields_container name="intdetailframe">
				<anchored to="intelligence" />
			</ability_fields_container>			
			
            <percentile_abilityfield name="intelligence_percent" source="abilities.intelligence.percent">
   				<center />
                <min> 0 </min>
                <max> 100 </max>
				<anchored to="intdetailframe" position="insidetopleft" offset="5,6" width="30" height="30"/>
				<labelres>char_label_ability_percent</labelres>
				<tooltip textres="char_tooltip_percentile" />
				<script>
					function onValueChanged()
                        local rActor = ActorManager.getActor("pc", window.getDatabaseNode());
                        local sActorType, nodeActor = ActorManager.getTypeAndNode(rActor);
                        local nScore = DB.getValue(nodeActor, "abilities.intelligence.score", 0);
                        AbilityScores.updateIntelligence(nodeActor,nScore);
					end
				</script>
			</percentile_abilityfield>
 			<label_ability_fields>
				<anchored to="intelligence_percent" />
   				<tooltip textres="char_tooltip_percentile" />
				<static textres="char_label_ability_percent" />
			</label_ability_fields>

			<!-- INT ability fields -->
			<number_abilityfield name="intelligence_languages" source="abilities.intelligence.languages">
				<anchored to="intelligence_percent"/>
				<tooltip textres="char_tooltip_intelligence_languages" />
				<labelres>char_label_intelligence_languages</labelres>
			</number_abilityfield>
 			<label_ability_fields>
				<anchored to="intelligence_languages" />
   				<tooltip textres="char_tooltip_intelligence_languages" />
				<static textres="char_label_intelligence_languages" />
			</label_ability_fields>

			<number_abilityfield_noplus name="intelligence_spelllevel" source="abilities.intelligence.spelllevel">
				<anchored to="intelligence_languages"/>
				<tooltip textres="char_tooltip_intelligence_spelllevel" />
				<labelres>char_label_intelligence_spelllevel</labelres>
			</number_abilityfield_noplus>
 			<label_ability_fields>
				<anchored to="intelligence_spelllevel" />
   				<tooltip textres="char_tooltip_intelligence_spelllevel" />
				<static textres="char_label_intelligence_spelllevel" />
			</label_ability_fields>

			<number_abilityfield_noplus name="intelligence_learn" source="abilities.intelligence.learn">
				<anchored to="intelligence_spelllevel"/>
				<tooltip textres="char_tooltip_intelligence_learn" />
				<labelres>char_label_intelligence_learn</labelres>
			</number_abilityfield_noplus>
 			<label_ability_fields>
				<anchored to="intelligence_learn" />
   				<tooltip textres="char_tooltip_intelligence_learn" />
				<static textres="char_label_intelligence_learn" />
			</label_ability_fields>

			<string_abilityfield name="intelligence_maxlevel" source="abilities.intelligence.maxlevel">
				<anchored to="intelligence_learn"/>
				<tooltip textres="char_tooltip_intelligence_maxlevel" />
				<labelres>char_label_intelligence_maxlevel</labelres>
			</string_abilityfield>
 			<label_ability_fields>
				<anchored to="intelligence_maxlevel" />
   				<tooltip textres="char_tooltip_intelligence_maxlevel" />
				<static textres="char_label_intelligence_maxlevel" />
			</label_ability_fields>

			<string_abilityfield name="intelligence_illusion" source="abilities.intelligence.illusion" >
				<!-- <multilinespacing>20</multilinespacing> -->
				<anchored to="intelligence_maxlevel" width="80"/>
				<tooltip textres="char_tooltip_intelligence_illusion" />
				<labelres>char_label_intelligence_illusion</labelres>
			</string_abilityfield>
 			<label_ability_fields name="intelligence_illusion_label">
				<anchored to="intelligence_illusion" />
   				<tooltip textres="char_tooltip_intelligence_illusion" />
				<static textres="char_label_intelligence_illusion" />
			</label_ability_fields>
			
			
			<!-- Ability WIS -->
			<number_charabilityscore2 name="wisdom" source="abilities.wisdom.score">
				<tooltip textres="char_tooltip_wisdom" />
				<anchored to="intelligence" position="below" offset="0,5" height="45"/>
				<target>wisdom</target>
			</number_charabilityscore2>
 			<label_abilityscore>
				<anchored to="wisdom" />
				<static textres="WIS" />
			</label_abilityscore>
			
			<ability_fields_container name="wisdetailframe">
				<anchored to="wisdom" />
			</ability_fields_container>			
			
            <percentile_abilityfield name="wisdom_percent" source="abilities.wisdom.percent">
   				<center />
                <min> 0 </min>
                <max> 100 </max>
				<anchored to="wisdetailframe" position="insidetopleft" offset="5,6" width="30" height="30"/>
				<labelres>char_label_ability_percent</labelres>
				<tooltip textres="char_tooltip_percentile" />
				<script>
					function onValueChanged()
                        local rActor = ActorManager.getActor("pc", window.getDatabaseNode());
                        local sActorType, nodeActor = ActorManager.getTypeAndNode(rActor);
                        local nScore = DB.getValue(nodeActor, "abilities.wisdom.score", 0);
                        AbilityScores.updateWisdom(nodeActor,nScore);
					end
				</script>
			</percentile_abilityfield>
 			<label_ability_fields>
				<anchored to="wisdom_percent" />
   				<tooltip textres="char_tooltip_percentile" />
				<static textres="char_label_ability_percent" />
			</label_ability_fields>

			<!-- WIS ability fields -->
			<number_abilityfield name="wisdom_magicdefenseadj" source="abilities.wisdom.magicdefenseadj">
				<anchored to="wisdom_percent"/>
				<tooltip textres="char_tooltip_wisdom_magicdefenseadj" />
				<labelres>char_label_wisdom_magicdefenseadj</labelres>
			</number_abilityfield>
 			<label_ability_fields>
				<anchored to="wisdom_magicdefenseadj" />
   				<tooltip textres="char_tooltip_wisdom_magicdefenseadj" />
				<static textres="char_label_wisdom_magicdefenseadj" />
			</label_ability_fields>

			<number_abilityfield_noplus name="wisdom_failure" source="abilities.wisdom.failure">
				<anchored to="wisdom_magicdefenseadj"/>
				<tooltip textres="char_tooltip_wisdom_failure" />
				<labelres>char_label_wisdom_failure</labelres>
			</number_abilityfield_noplus>
 			<label_ability_fields>
				<anchored to="wisdom_failure" />
   				<tooltip textres="char_tooltip_wisdom_failure" />
				<static textres="char_label_wisdom_failure" />
			</label_ability_fields>
			
			<string_abilityfield name="wisdom_immunity" source="abilities.wisdom.immunity">
				<anchored to="wisdom_failure" width="80"/>
				<tooltip textres="char_tooltip_wisdom_immunity" />
				<labelres>char_label_wisdom_immunity</labelres>
			</string_abilityfield>
 			<label_ability_fields name="wisdom_immunity_label">
				<anchored to="wisdom_immunity" />
   				<tooltip textres="char_tooltip_wisdom_immunity" />
				<static textres="char_label_wisdom_immunity" />
			</label_ability_fields>
			
			<string_abilityfield name="wisdom_spellbonus" source="abilities.wisdom.spellbonus">
				<!-- <multilinespacing>15</multilinespacing> -->
				<anchored to="wisdom_immunity" width="80"/>
				<tooltip textres="char_tooltip_wisdom_spellbonus" />
				<labelres>char_label_wisdom_spellbonus</labelres>
			</string_abilityfield>
 			<label_ability_fields name="wisdom_spellbonus_label">
				<anchored to="wisdom_spellbonus" />
   				<tooltip textres="char_tooltip_wisdom_spellbonus" />
				<static textres="char_label_wisdom_spellbonus" />
			</label_ability_fields>

			
			<!-- Ability CHR -->
			<number_charabilityscore2 name="charisma" source="abilities.charisma.score">
				<tooltip textres="char_tooltip_charisma" />
				<anchored to="wisdom" position="below" offset="0,5" height="45"/>
				<target>charisma</target>
			</number_charabilityscore2>
 			<label_abilityscore>
				<anchored to="charisma" />
				<static textres="CHR" />
			</label_abilityscore>
			
			<ability_fields_container name="chrdetailframe">
				<anchored to="charisma" />
			</ability_fields_container>			
			
            <percentile_abilityfield name="charisma_percent" source="abilities.charisma.percent">
   				<center />
                <min> 0 </min>
                <max> 100 </max>
				<anchored to="chrdetailframe" position="insidetopleft" offset="5,6" width="30" height="30"/>
				<labelres>char_label_ability_percent</labelres>
				<tooltip textres="char_tooltip_percentile" />
				<script>
					function onValueChanged()
                        local rActor = ActorManager.getActor("pc", window.getDatabaseNode());
                        local sActorType, nodeActor = ActorManager.getTypeAndNode(rActor);
                        local nScore = DB.getValue(nodeActor, "abilities.charisma.score", 0);
                        AbilityScores.updateCharisma(nodeActor,nScore);
					end
				</script>
			</percentile_abilityfield>
 			<label_ability_fields>
				<anchored to="charisma_percent" />
   				<tooltip textres="char_tooltip_percentile" />
				<static textres="char_label_ability_percent" />
			</label_ability_fields>

			<!-- CHR ability fields -->
			<number_abilityfield name="charisma_maxhench" source="abilities.charisma.maxhench">
				<anchored to="charisma_percent" width="80"/>
				<tooltip textres="char_tooltip_charisma_maxhench" />
				<labelres>char_label_charisma_maxhench</labelres>
			</number_abilityfield>
 			<label_ability_fields>
				<anchored to="charisma_maxhench" />
   				<tooltip textres="char_tooltip_charisma_maxhench" />
				<static textres="char_label_charisma_maxhench" />
			</label_ability_fields>

			<number_abilityfield name="charisma_loyalty" source="abilities.charisma.loyalty">
				<anchored to="charisma_maxhench" width="80"/>
				<tooltip textres="char_tooltip_charisma_loyalty" />
				<labelres>char_label_charisma_loyalty</labelres>
			</number_abilityfield>
 			<label_ability_fields>
				<anchored to="charisma_loyalty" />
   				<tooltip textres="char_tooltip_charisma_loyalty" />
				<static textres="char_label_charisma_loyalty" />
			</label_ability_fields>

			<number_abilityfield name="charisma_reaction" source="abilities.charisma.reaction">
				<anchored to="charisma_loyalty" width="80"/>
				<tooltip textres="char_tooltip_charisma_reaction" />
				<labelres>char_label_charisma_reaction</labelres>
			</number_abilityfield>
 			<label_ability_fields>
				<anchored to="charisma_reaction" />
   				<tooltip textres="char_tooltip_charisma_reaction" />
				<static textres="char_label_charisma_reaction" />
			</label_ability_fields>
			<!-- END Ability Scores -->
			
<!-- SAVES -->
			<label_charframetop name="savestitle">
				<anchored to="statstitle" position="right" offset="40,0" width="90"/>
				<icons>char_senses</icons>
                <static textres="char_label_save" />
			</label_charframetop>
            <button_charasavesdetail name="saves_details">
                <tooltip textres="save_details_tooltip" />
				<anchored to="savestitle" position="insidetopright" offset="-5,0">
				</anchored>
            </button_charasavesdetail>

			<number_char_save name="paralyzation" source="saves.paralyzation.score">
				<anchored to="savestitle" position="belowleft" offset="0,20"  height="25" width="25"/> 
				<target>paralyzation</target>
			</number_char_save>
			<label_savescore>
   				<tooltip textres="save_paralyzation_full" />
				<anchored to="paralyzation" />
				<static textres="save_paralyzation_wrapped" />
			</label_savescore>

			<number_char_save name="poison" source="saves.poison.score">
				<anchored to="paralyzation"   height="25"  />
				<target>poison</target>
			</number_char_save>
			<label_savescore>
   				<tooltip textres="save_poison_full" />
				<anchored to="poison" />
				<static textres="save_poison_wrapped" />
			</label_savescore>

			<number_char_save name="death" source="saves.death.score">
				<anchored to="poison"   height="25"  />
				<target>death</target>
			</number_char_save>
			<label_savescore>
   				<tooltip textres="save_death_full" />
				<anchored to="death" />
				<static textres="save_death_wrapped" />
			</label_savescore>

			<number_char_save name="rod" source="saves.rod.score">
				<anchored to="death"   height="25"  />
				<target>rod</target>
			</number_char_save>
			<label_savescore>
   				<tooltip textres="save_rod_full" />
				<anchored to="rod" />
				<static textres="save_rod_wrapped" />
			</label_savescore>
            
			<number_char_save name="staff" source="saves.staff.score">
				<anchored to="rod"   height="25"  />
				<target>staff</target>
			</number_char_save>
			<label_savescore>
   				<tooltip textres="save_staff_full" />
				<anchored to="staff" />
				<static textres="save_staff_wrapped" />
			</label_savescore>

			<number_char_save name="wand" source="saves.wand.score">
				<anchored to="staff"   height="25"  />
				<target>wand</target>
			</number_char_save>
			<label_savescore>
   				<tooltip textres="save_wand_full" />
				<anchored to="wand" />
				<static textres="save_wand_wrapped" />
			</label_savescore>

			<number_char_save name="petrification" source="saves.petrification.score">
				<anchored to="wand"   height="25"  />
				<target>petrification</target>
			</number_char_save>
			<label_savescore>
   				<tooltip textres="save_petrification_full" />
				<anchored to="petrification" />
				<static textres="save_petrification_wrapped" />
			</label_savescore>

			<number_char_save name="polymorph" source="saves.polymorph.score">
				<anchored to="petrification"   height="25"  />
				<target>polymorph</target>
			</number_char_save>
			<label_savescore>
   				<tooltip textres="save_polymorph_full" />
				<anchored to="polymorph" />
				<static textres="save_polymorph_wrapped" />
			</label_savescore>

			<number_char_save name="breath" source="saves.breath.score">
				<anchored to="polymorph"   height="25"  />
				<target>breath</target>
			</number_char_save>
			<label_savescore>
   				<tooltip textres="save_breath_full" />
				<anchored to="breath" />
				<static textres="save_breath_wrapped" />
			</label_savescore>

			<number_char_save name="spell" source="saves.spell.score">
				<anchored to="breath"   height="25"  />
				<target>spell</target>
			</number_char_save>
			<label_savescore>
   				<tooltip textres="save_spell_full" />
				<anchored to="spell" />
				<static textres="save_spell_wrapped" />
			</label_savescore>
            <!-- END SAVES -->

			<!-- THACO/AC/Move -->
 			<label_charframetop name="combattitle" >
				<anchored to="charisma" position="belowleft" offset="15,15" height="20" width="250"/>
<!--   				<anchored height="20" width="250">
					<top anchor="bottom" offset="-110" />
					<left offset="15" />
				</anchored>
 -->				<icons>char_init</icons>
			</label_charframetop>

			
<!-- 			THACO -->
			<number_charthaco name="thaco" source="combat.thaco.score">
				<anchored to="combattitle" width="40" height="30">
					<top anchor="bottom" offset="10" />
					<left anchor="left" offset="20" />
				</anchored>
			</number_charthaco>
			<label_charfieldtop name="combattitlethaco">
				<anchored to="thaco" offset="0,10" />
				<static textres="thaco" />
			</label_charfieldtop>

			<number_chartotalac_defaults name="ac2" source="defenses.ac.total">
				<readonly />
				<anchored to="combattitle" width="30" height="30">
 					<top anchor="bottom" offset="7" />
                    <left parent="combattitlethaco" anchor="right" relation="relative" offset="10" />
              </anchored>
				<frame name="acicon" offset="4,0,2,4" />
			</number_chartotalac_defaults>
			<label_charfieldtop>
				<anchored to="ac2" offset="0,7" />
				<static textres="ac" />
			</label_charfieldtop>
			
			<number_charinit name="initiative" source="initiative.total">
				<readonly />
				<anchored to="combattitle" width="30" height="30">
 					<top anchor="bottom" offset="10" />
                    <left parent="combattitlethaco" anchor="right" relation="relative" offset="10" />
              </anchored>
			</number_charinit>
			<label_charfieldtop>
				<anchored to="initiative" offset="0,10" />
				<static textres="char_label_initiative" />
			</label_charfieldtop>
			
			<number_charspeed_defaults name="speed" source="speed.total">
				<frame name="adnd_moveicon" offset="12,-2,0,0" />
				<readonly />
				<anchored to="combattitle" width="40" height="30">
 					<top anchor="bottom" offset="5" />
                    <left parent="combattitlethaco" anchor="right" relation="relative" offset="18" />
              </anchored>
				<static textres="char_label_speed" />
			</number_charspeed_defaults>
			<label_charfieldtop>
				<anchored to="speed" offset="0,5" />
				<static textres="char_label_speed" />
			</label_charfieldtop>

            <surprise_number_total name="sheet_surprise_total" source="surprise.total">
				<anchored to="combattitle" width="40" height="30">
 					<top anchor="bottom" offset="10" />
                    <left parent="combattitlethaco" anchor="right" relation="relative" offset="15" />
              </anchored>
                <tooltip textres="char_label_surprisetotal_tooltip" />
                <font>reference-b-large</font>
                <tooltip textres="char_label_surprise_tooltip" />
            </surprise_number_total>
			<label_charfieldtop>
				<anchored to="sheet_surprise_total" offset="0,10" />
				<static textres="char_label_surprise" />
                <tooltip textres="char_label_surprise_tooltip" />
			</label_charfieldtop>

            <!-- special move/defense string -->
			<string_labeled name="speedspecial" source="speed.special">
				<readonly />
				<anchored to="combattitle">
					<top anchor="bottom" relation="relative" offset="55" />
					<left offset="-5" />
					<right offset="5" />
				</anchored>
				<labelres>char_label_speedspecial</labelres>
				<multilinespacing>20</multilinespacing>
			</string_labeled>
			<string_labeled name="specialdef" source="defenses.special">
				<anchored to="combattitle">
					<top anchor="bottom" relation="relative" offset="5" />
					<left offset="-5" />
					<right offset="5" />
				</anchored>
				<labelres>char_label_specialdef</labelres>
				<multilinespacing>20</multilinespacing>
			</string_labeled>

			
			<!-- 	Magnify button -->
			<button_charcombatcalc name="button_combatcalc">
				<anchored to="combattitle" position="insidetopright" offset="-10,0" />
			</button_charcombatcalc>
            
        <!-- Health/Wounds -->
 			<label_charframetop name="healthtitle">
				<anchored to="combattitle" position="right" offset="35,0" width="180"/>
				<icons>char_stats</icons>
			</label_charframetop>
			
			<number_charwounds name="wounds" source="hp.wounds">
				<frame name="adnd_hpothericon" offset="5,1,1,1" />
				<anchored to="healthtitle" width="40" height="30">
					<top anchor="bottom" offset="15" />
					<left anchor="center" offset="-60" />
				</anchored>
				<font>reference-b-large</font>
				<description textres="char_tooltip_wounds" />
			</number_charwounds>
			<label_charfieldtop>
				<anchored to="wounds" offset="0,15" />
				<static textres="char_label_wounds" />
			</label_charfieldtop>
			
			<number_dropadd name="hp" source="hp.total">
				<frame name="adnd_hpicon" offset="5,1,1,1" />
				<anchored to="wounds" position="righthigh" offset="15,0" width="40" height="30" />
				<font>reference-b-large</font>
				<description textres="hp" />
				<min value="0" />
				<script>
					function onValueChanged()
						window.onHealthChanged();
					end
				</script>
			</number_dropadd>
			<label_charfieldtop>
				<anchored to="hp" offset="5,15" />
				<static textres="char_label_hpmax" />
			</label_charfieldtop>
			
			<basicnumber name="temphp" source="hp.temporary">
				<frame name="adnd_hpothericon" offset="5,1,1,1" />
				<anchored to="hp" position="righthigh" offset="15,0" width="40" height="30" />
				<font>reference-b-large</font>
				<color>0000AA</color>
				<description textres="temphp" />
				<hideonvalue>0</hideonvalue>
				<script>
					function onDrop(x, y, draginfo)
						if draginfo.getType() == "number" then
							if draginfo.getNumberData() &gt; 0 then
								setValue(draginfo.getNumberData());
							else
								setValue(getValue() + draginfo.getNumberData());
							end
						end
						
						return true;
					end
				</script>
			</basicnumber>
			<label_charfieldtop>
				<anchored to="temphp" offset="0,15" />
				<static textres="char_label_hptemp" />
			</label_charfieldtop>
			<label>
				<anchored to="wounds" position="lefthigh" offset="15,5" />
				<static textres="hp" />
			</label>
			
		</sheetdata>
	</windowclass>

	<windowclass name="charsheet_classes">
		<frame>charsheethelper</frame>
		<placement>
			<size width="600" height="300" />
		</placement>
		<sizelimits>
			<minimum width="600" height="300" />
			<dynamic />
		</sizelimits>
		<nodelete />
		<playercontrol />
		<script>
			function onDrop(x, y, draginfo)
				if draginfo.isType("shortcut") then
					local sClass, sRecord = draginfo.getShortcutData();

					if StringManager.contains({"reference_class", "reference_race", "reference_subrace", "reference_background"}, sClass) then
						CharManager.addInfoDB(getDatabaseNode(), sClass, sRecord);
						return true;
					end
				end
			end
		</script>
		<sheetdata>
			<windowtitlebar_char name="title">
				<prefix>char_classes_title</prefix>
			</windowtitlebar_char>
			<anchor_title_charsheethelper name="contentanchor" />

             <!-- title xp -->
			<label_charframetop name="exptitle">
				<tooltip textres="char_tooltip_xp" />
				<anchored to="contentanchor" position="belowleft" offset="10,5" height="20">
                    <right offset="-10" />
				</anchored>
			</label_charframetop>


            <!-- exp -->
			<number_dropadd name="exp">
                <script>
                    function onInit()
                        onValueChanged();
                    end
                    function action(draginfo)
                        local node = getDatabaseNode();
                        local nodeChar = node.getChild("..");
                        CharManager.applyEXPToActiveClasses(nodeChar);
                        onValueChanged();
                        return true;
                    end
                    function onDoubleClick(x,y)
                        return action();
                    end    
                    function onValueChanged()
                        local node = getDatabaseNode();
                        local nodeChar = node.getChild("..");
                        local nApplyEXP = CharManager.getEXPNotApplied(nodeChar);
                        if (nApplyEXP ~= 0) then
                            window.apply_button.setVisible(true);
                            window.apply_button_label.setVisible(true);
                        else
                            window.apply_button.setVisible(false);
                            window.apply_button_label.setVisible(false);
                        end
                    end
                </script>
                <gmeditonly />
				<tooltip textres="char_tooltip_xp" />
				<anchored to="exptitle" height="20" width="100">
					<top anchor="bottom" offset="10" />
					<right anchor="center" offset="58" />
				</anchored>
				<description textres="char_tooltip_xp" />
			</number_dropadd>
			<label_charfieldtop>
				<anchored to="exp" offset="0,10" />
				<static textres="class_label_total_xp_earned" />
				<tooltip textres="class_label_total_xp_earned_tooltip" />
			</label_charfieldtop>
			<buttoncontrol name="apply_button">
				<anchored to="exp" position="righthigh" offset="2,0" width="35" height="20" />
                <icon normal="button_dialog_check_green" pressed="button_dialog_ok" />
				<invisible />
				<script>
					function onButtonPress()
                        return window.exp.action();
					end
				</script>
                <static textres="char_label_class_applyexp" />
                <tooltip textres="char_label_class_applyexp_tooltip" />
			</buttoncontrol>
			<label_charfieldtop name="apply_button_label">
				<anchored to="apply_button" offset="0,10" />
				<static textres="char_label_class_applyexp" />
				<tooltip textres="char_label_class_applyexp_tooltip" />
			</label_charfieldtop>

            
   			<genericcontrol name="rightanchor">
				<anchored position="insidetopright" offset="15,120" width="0" height="0" />
				<invisible />
			</genericcontrol>
			<genericcontrol name="spacer">
				<anchored to="rightanchor" width="20" height="20">
					<top />
					<right anchor="left" relation="relative" />
				</anchored>
				<disabled />
			</genericcontrol>
         
            
            
            
            
            
            
            <!-- save as -->
			<label_charframetop name="classsave">
                <tooltip textres="char_label_class_save_tooltip" />
				<anchored to="spacer" position="left" offset="15,0" width="50" />
				<static textres="char_label_class_save" />
			</label_charframetop>

            <!-- fight as -->
			<label_charframetop name="classfight">
                <tooltip textres="char_label_class_fight_tooltip" />
				<anchored to="classsave" position="left" offset="20,0" width="55" />
				<static textres="char_label_class_fight" />
			</label_charframetop>

			
            <!-- hd used -->
<!-- 			<label_charframetop name="hdusedtitle">
				<anchored to="classfight" position="left" offset="20,0" width="50" />
				<static textres="char_label_hdused" />
			</label_charframetop> -->

            <!-- HD type -->
			<label_charframetop name="hdtitle">
				<anchored to="classfight" position="left" offset="20,0" width="50" />
				<static textres="char_label_hd" />
			</label_charframetop>


            <!-- exp needed -->
			<label_charframetop name="experienceneededtitle">
				<anchored to="hdtitle" position="left" offset="20,0" width="65" />
				<static textres="class_label_exp_needed" />
				<tooltip textres="class_label_exp_needed_tooltip" />
			</label_charframetop>

            <!-- exp  -->
			<label_charframetop name="experiencetitle">
				<anchored to="experienceneededtitle" position="left" offset="20,0" width="50" />
				<static textres="char_label_class_exp" />
				<tooltip textres="char_label_class_exp_tooltip" />
			</label_charframetop>
            
			<label_charframetop name="classleveltitle">
				<anchored to="experiencetitle" position="left" offset="20,0" width="35" />
				<static textres="char_label_level" />
			</label_charframetop>
            
			<label_charframetop name="classtitle">
				<!-- <anchored to="classleveltitle" position="left" offset="10,0" width="140" /> -->
 				<anchored to="classleveltitle" position="left" offset="20,0">
					<left parent="contentanchor" offset="10" />
				</anchored> 
				<static textres="char_label_class" />
			</label_charframetop>

            
			<button_iadd name="classes_iadd">
				<anchored to="classsave">
					<top anchor="bottom" relation="relative" offset="3" />
					<left anchor="right" offset="15" />
				</anchored>
				<target>classes</target>
			</button_iadd>
			<list_text name="classes">
				<anchored to="contentanchor">
					<top parent="classtitle" anchor="bottom" relation="relative" offset="3" />
					<left offset="5" />
					<right offset="-10" />
					<bottom parent="" offset="-30" />
				</anchored>
				<datasource>.classes</datasource>
				<class>charsheet_class</class>
			</list_text>
			<scrollbar>
				<anchored to="classes" />
				<target>classes</target>
			</scrollbar>
			<button_iedit name="classes_iedit">
				<anchored to="classsave" position="righthigh" offset="15,0" />
				<target>classes</target>
			</button_iedit>

			<close_charsheethelper />
			<resize_charsheethelper />
		</sheetdata>
	</windowclass>

	<windowclass name="charsheet_class">
		<margins control="0,0,0,2" />
		<sizelimits>	
		 	<minimum height="20" />	
		</sizelimits>
		<script>
			function action(draginfo)
				local nodeChar = getDatabaseNode().getChild("...")
				local rActor = ActorManager.getActor("pc", nodeChar);

				ActionRecovery.performRoll(draginfo, rActor, getDatabaseNode());
			end
			
			function onDragStart(button, x, y, draginfo)
				action(draginfo);
				return true;
			end
			
			function onDoubleClick(x, y)
				action();
				return true;
			end
            function onInit()
                local node = getDatabaseNode();
                local nodeChar = node.getChild("...");
                DB.addHandler(DB.getPath(nodeChar, "classes"),"onChildDeleted", cyclerUpdated);
                DB.addHandler(DB.getPath(node, "level"),"onUpdate", cyclerUpdated);
                DB.addHandler(DB.getPath(node, "saveas"),"onUpdate", cyclerUpdated);
                DB.addHandler(DB.getPath(node, "fightas"),"onUpdate", cyclerUpdated);
                cyclerUpdated();
            end
            function onClose()
                local node = getDatabaseNode();
                local nodeChar = node.getChild("...");
                DB.removeHandler(DB.getPath(nodeChar, "classes"),"onChildDeleted", cyclerUpdated);
                DB.removeHandler(DB.getPath(node, "level"),"onUpdate", cyclerUpdated);
                DB.removeHandler(DB.getPath(node, "saveas"),"onUpdate", cyclerUpdated);
                DB.removeHandler(DB.getPath(node, "fightas"),"onUpdate", cyclerUpdated);
            end
            function cyclerUpdated()
                local node = getDatabaseNode();
                local sSaveClass = DB.getValue(node,"saveas","");
                local sFightClass = DB.getValue(node,"fightas","");
                
                local nodeChar = node.getChild("...");
                if sSaveClass == "" then
                    DB.setValue(nodeChar,"saveas","string","warrior");
                end
                if sFightClass == "" then
                    DB.setValue(nodeChar,"fightas","string","warrior");
                end
                CharAutoFill.updateAutoFills(nodeChar);
            end
            
		</script>
		<sheetdata>
			<genericcontrol name="rightanchor">
				<anchored position="insidetopright" offset="0,3" width="0" height="0" />
				<invisible />
			</genericcontrol>
			<genericcontrol name="spacer">
				<anchored to="rightanchor" width="20" height="20">
					<top />
					<right anchor="left" relation="relative" />
				</anchored>
				<disabled />
			</genericcontrol>
			<linkfield name="shortcut">
				<anchored to="rightanchor" width="20" height="20">
					<top />
					<right anchor="left" />
				</anchored>
				<script>
					function onInit()
						onValueChanged();
					end
					function onValueChanged()
						setVisible(not isEmpty());
					end
				</script>
			</linkfield>
			<button_idelete name="idelete">
 				<anchored to="rightanchor">
					<top />
					<right anchor="left" />
				</anchored>
			</button_idelete>

            <!-- save as -->
			<class_cycler_do_as name="saveas">
				<anchored to="spacer" position="lefthigh" offset="5,0" width="45" />
			</class_cycler_do_as>

            <!-- fight as -->
			<class_cycler_do_as name="fightas">
				<anchored to="saveas" position="lefthigh" offset="25,0" width="45" />
			</class_cycler_do_as>

            <!-- hd used -->
<!-- 			<number_charwounds name="hdused">
				<anchored to="fightas" position="left" offset="25,0" width="50" />
				<description textres="char_tooltip_hdused" />
			</number_charwounds> -->

            <!-- hdie -->
			<basicdice name="hddie">
				<anchored to="fightas" position="left" offset="25,0" width="50" />
				<script>
					function onDragStart(button, x, y, draginfo)
						return window.onDragStart(button, x, y, draginfo);
					end

					function onDoubleClick(x, y)
						return window.onDoubleClick(x, y);
					end
				</script>
			</basicdice>

            <!-- exp needed -->
 			<basicnumber name="expneeded">
				<script>
					function onHover(oncontrol)
						if oncontrol then
							local draginfo = Input.getDragData();
							if draginfo and draginfo.isType("number") and draginfo.getNumberData() &lt; getValue() then
								setColor("BB0000");
							end
						else
							setColor(nil);
						end
					end
					
					function onDrop(x, y, draginfo)
						if draginfo.isType("number") and draginfo.getNumberData() &gt; getValue() then
							setValue(draginfo.getNumberData());
						end

						return true;
					end
				</script>
				<anchored to="hddie" position="left" offset="20,0" width="60" />
				<tooltip textres="class_label_exp_needed_tooltip" />
			</basicnumber>

 			<button_checkbox name="classbonus">
				<anchored to="expneeded" position="left" offset="5,0" width="10" />
				<tooltip textres="char_tooltip_classbonus" />
			</button_checkbox>

            <!-- exp -->
 			<basicnumber name="exp">
                <gmeditonly />
				<anchored to="expneeded" position="left" offset="20,0" width="60" />
				<tooltip textres="char_label_class_exp_tooltip" />
			</basicnumber>


 			<basicnumber name="level">
				<anchored to="exp" position="left" offset="18,0" width="30" />
			</basicnumber>

            
			<string_textlistitem name="name">
<!-- 				<anchored to="level" position="left" offset="18,0" width="70" /> -->
 				<anchored>
					<top parent="rightanchor" offset="0" />
					<left offset="15" />
					<right parent="level" anchor="left" relation="relative" offset="-17" /> 
				</anchored> 
				<multilinespacing>20</multilinespacing>
			</string_textlistitem>

 			<button_checkbox name="classactive">
				<anchored to="name" position="left" offset="2,0" width="10" />
				<tooltip textres="char_tooltip_classactivity" />
			</button_checkbox>

            </sheetdata>
	</windowclass>	

    <!-- combat popup window-->
	<windowclass name="charsheet_combatcalc">
		<frame>charsheethelper</frame>
		<placement>
			<size width="520" height="330" />
		</placement>
		<nodelete />
		<playercontrol />
        <script>
            function onInit()
                surpriseTotal();
            end
            function surpriseTotal()
                local nBase = surprisebase.getValue();
                local nItem = surprise_itemmod.getValue();
                local nEffect = surprise_effectmod.getValue();
                local nMod = surprise_mod.getValue();
                local nTmp = surprise_tempmod.getValue();
                local nTotal = nBase + nItem + nEffect + nMod + nTmp;
                surprise_total.setValue(nTotal);
            end
        </script>
        
		<sheetdata>
			<windowtitlebar_char name="title">
				<prefix>char_combatcalc_title</prefix>
			</windowtitlebar_char>
			<anchor_title_charsheethelper name="contentanchor" />

			<anchor_column name="columnanchor">
				<anchored to="contentanchor" position="below" offset="0,-5" />
			</anchor_column>
			<anchor_left />
            <anchor_right />
            
			<!-- Init Detail -->
			<label name="label_initdetail">
				<anchored width="60">
					<top parent="columnanchor" anchor="bottom" relation="relative" offset="20" />
					<left offset="30" />
				</anchored>
				<static textres="char_label_initdetail" />
			</label>
			<basicnumber name="initmiscbonus" source="initiative.misc">
				<anchored to="label_initdetail" position="right" offset="5,0" width="45" />
				<hideonvalue>0</hideonvalue>
			</basicnumber>
			<label_fieldtop name="label_initmiscbonus">
				<anchored to="initmiscbonus" />
				<static textres="char_label_adj" />
			</label_fieldtop>
			
			<!-- Speed Detail -->
            <label name="label_speeddetail_base">
				<anchored width="60">
					<top parent="columnanchor" anchor="bottom" relation="relative" offset="20" />
					<left offset="30" />
				</anchored>
<!--                 <anchored height="18" width="30">
                    <top parent="columnanchor" anchor="bottom" relation="relative" offset="20" />
                    <left parent="leftanchor" anchor="right" relation="relative" offset="30" />
                    <right parent="rightanchor" anchor="left" relation="relative" offset="-410" />
                </anchored> -->
				<static textres="char_label_speeddetail" />
                <tooltip textres="char_label_speeddetail_tooltip" />
            </label>

			<!-- <label name="label_speeddetail">
				<anchored width="60">
					<top parent="columnanchor" anchor="bottom" relation="relative" offset="20" />
					<left offset="30" />
				</anchored>
				<static textres="char_label_speeddetail" />
			</label> -->
            
            
            <speed_number_base name="speedbase" source="speed.base">
            </speed_number_base>

			<!-- <char_speed_details name="speedbase" source="speed.base">
				<anchored to="label_speeddetail" position="righthigh" offset="5,0" width="45" height="20" />
			</char_speed_details> -->
            
			<label_fieldtop name="label_speedbase">
				<anchored to="speedbase" />
				<static textres="char_label_speedbase_base" />
                <tooltip textres="char_label_speedbase_base_tooltip" />
			</label_fieldtop>
            <speed_number_base name="speed_basemodenc" source="speed.basemodenc">
                <readonly />
            </speed_number_base>
			<label_fieldtop name="label_speedbasemodenc">
				<anchored to="speed_basemodenc" />
				<static textres="char_label_speedbase_enc" />
                <tooltip textres="char_label_speedbase_enc_tooltip" />
            </label_fieldtop>

            <speed_number_base name="speed_basemoditem" source="speed.basemoditem">
                <readonly />
            </speed_number_base>
			<label_fieldtop name="label_speedbasemoditem">
				<anchored to="speed_basemoditem" />
				<static textres="char_label_speedbase_item" />
                <tooltip textres="char_label_speedbase_item_tooltip" />
            </label_fieldtop>

            <speed_number_base name="speed_basemod" source="speed.basemod">
            </speed_number_base>
			<label_fieldtop name="label_speedbasemod">
				<anchored to="speed_basemod" />
				<static textres="char_label_speedbase_mod" />
                <tooltip textres="char_label_speedbase_mod_tooltip" />
			</label_fieldtop>
            
            <label name="label_speeddetail_mods">
				<anchored width="60">
					<top parent="columnanchor" anchor="bottom" relation="relative" offset="20" />
					<left offset="30" />
				</anchored>
<!--                 <anchored height="18">
                    <top parent="columnanchor" anchor="bottom" relation="relative" offset="20" />
                    <left parent="leftanchor" anchor="right" relation="relative" offset="-60" />
                    <right parent="rightanchor" anchor="left" relation="relative" offset="60" />
                </anchored> -->
				<static textres="char_label_speeddetail_mods" />
                <tooltip textres="char_label_speeddetail_mods_tooltip" />
            </label>
            

            <speed_number_mod name="speed_itemmod" source="speed.itemmod">
                <readonly />
                <displaysign />
            </speed_number_mod>
			<label_fieldtop name="label_speeditemmod">
				<anchored to="speed_itemmod" />
				<static text="Item" />
            </label_fieldtop>

            <speed_mod_plus />
            
            <speed_number_mod name="speed_effectmod" source="speed.effectmod">
                <readonly />
                <displaysign />
            </speed_number_mod>
			<label_fieldtop name="label_speedeffectmod">
				<anchored to="speed_effectmod" />
				<static text="Effect" />
            </label_fieldtop>

            <speed_mod_plus />
            
            <speed_number_mod name="speed_mod" source="speed.mod">
                <displaysign />
            </speed_number_mod>
			<label_fieldtop name="label_speedbasemoditem">
				<anchored to="speed_mod" />
				<static text="Mod" />
            </label_fieldtop>
            
            <speed_mod_plus />

            <speed_number_mod name="speed_tempmod" source="speed.tempmod">
                <displaysign />
            </speed_number_mod>
			<label_fieldtop name="label_speedtempmod">
				<anchored to="speed_tempmod" />
				<static text="Temp" />
            </label_fieldtop>
            
            <label>
                <anchored >
                    <top parent="label_speeddetail_mods" />
                    <left parent="label_speeddetail_mods" anchor="right" relation="relative" offset="10" />
                </anchored>
                <static text="=" />
            </label>

            <speed_number_total name="speed_total" source="speed.total">
            </speed_number_total>
			<label_fieldtop name="label_speedtotal">
				<anchored to="speed_total" />
				<static text="Total" />
            </label_fieldtop>

			<!-- Armor Detail -->
			<label name="label_armordetail">
				<anchored width="60">
					<top parent="columnanchor" anchor="bottom" relation="relative" offset="20" />
					<left offset="30" />
				</anchored>
				<static textres="char_label_armordetail" />
			</label>
			<basicnumber name="acbase" source="defenses.ac.base">
   				<gmeditonly />
				<default>10</default>
				<anchored to="label_armordetail" position="righthigh" offset="10,0" width="30" height="18" />
			</basicnumber>
			<label_fieldtop name="label_acbase">
				<anchored to="acbase" />
				<static textres="char_label_armorbase" />
			</label_fieldtop>
			<label name="label_armorplus">
				<anchored to="acbase" position="righthigh" offset="10,0"  />
				<static>+</static>
				<center />
			</label>
			<basicnumber name="acarmor" source="defenses.ac.armor">
   				<gmeditonly />
				<anchored to="label_armorplus" position="righthigh" offset="10,0" width="30" height="18" />
			</basicnumber>
			<label_fieldtop name="label_acarmor">
				<anchored to="acarmor" />
				<static textres="char_label_armormain" />
			</label_fieldtop>
			<label name="label_armorplus2">
				<anchored to="acarmor" position="righthigh" offset="10,0" width="10" />
				<static>+</static>
				<center />
			</label>
            
			<basicnumber name="acshield" source="defenses.ac.shield">
   				<gmeditonly />
				<anchored to="label_armorplus2" position="righthigh" offset="10,0" width="30" height="18" />
			</basicnumber>
			<label_fieldtop name="label_acshield">
				<anchored to="acshield" />
				<static textres="char_label_armorshield" />
			</label_fieldtop>
			<label name="label_armorplus3">
				<anchored to="acshield" position="righthigh" offset="10,0" />
				<static>+</static>
				<center />
			</label>

			<basicnumber name="acdexterity" source="abilities.dexterity.defenseadj">
   				<readonly />
				<anchored to="label_armorplus3" position="righthigh" offset="10,0" width="30" height="18" />
			</basicnumber>
			<label_fieldtop name="label_acdexterity">
				<anchored to="acdexterity" />
				<static textres="char_label_armordexterity" />
			</label_fieldtop>
			<label name="label_armorplus5">
				<anchored to="acdexterity" position="righthigh" offset="10,0"/>
				<static>+</static>
				<center />
			</label>
            
			<basicnumber name="acmisc" source="defenses.ac.misc">
				<anchored to="label_armorplus5" position="righthigh" offset="8,0" width="30" height="18" />
			</basicnumber>
			<label_fieldtop name="label_acmisc">
				<anchored to="acmisc" />
				<static textres="char_label_armormisc" />
			</label_fieldtop>

            <!-- surprise section -->
			<label name="label_surprisedetail">
				<anchored width="60">
					<top parent="columnanchor" anchor="bottom" relation="relative" offset="20" />
					<left offset="30" />
				</anchored>
				<static textres="char_label_surprisedetail" />
                <tooltip textres="char_label_surprisedetail_tooltip" />
			</label>

            <!-- dice rolled for surprise check -->
			<basicdice name="surprisedice" source="surprise.dice">
				<anchored to="label_surprisedetail" position="righthigh" offset="10,0" width="30" height="18" />
                <rollable />
				<script>
                    function action()
                        local node = getDatabaseNode();
                        local nodeChar = node.getChild("...");
                        Debug.console("record_char_main.xml","onDragStart","nodeChar",nodeChar);
                        ActionSurprise.performRoll(draginfo, rActor, nodeChar);
                        return true;
                    end
                    
                    function onDragStart(button, x, y, draginfo)
                        return action(draginfo);
                    end
                        
                    function onDoubleClick(x,y)
                        return action();
                    end                    
				</script>
			</basicdice>
			<label_fieldtop name="label_surprisedice">
				<anchored to="surprisedice" />
				<static textres="char_label_surprisedice" />
			</label_fieldtop>


			<basicnumber name="surprisebase" source="surprise.base">
                <script>
                    function onValueChanged()
                        window.surpriseTotal();
                    end
                </script>
                <anchored to="surprisedice" position="righthigh" offset="28,0" width="30" height="18" /> 
				<default>3</default>
				<tooltip textres="char_label_surprisebase_tooltip" />
			</basicnumber>
			<label_fieldtop name="label_surprisebase">
				<anchored to="surprisebase" />
				<static textres="char_label_surprisebase" />
				<tooltip textres="char_label_surprisebase_tooltip" />
			</label_fieldtop>

            <surprise_mod_plus />

            <surprise_number_mod name="surprise_itemmod" source="surprise.itemmod">
                <anchored height="18" width="30" >
                    <top parent="surprisebase" />
                    <left parent="surprisebase" anchor="right" relation="relative" offset="13" />
                </anchored>
                <readonly />
                <displaysign />
            </surprise_number_mod>
			<label_fieldtop name="label_surpriseitemmod">
				<anchored to="surprise_itemmod" />
				<static textres="char_label_mod_item" />
                <tooltip textres="char_label_mod_item_tooltip" />
            </label_fieldtop>

            <surprise_mod_plus />
            
            <surprise_number_mod name="surprise_effectmod" source="surprise.effectmod">
                <readonly />
                <displaysign />
                <tooltip textres="char_label_mod_effect_tooltip" />
            </surprise_number_mod>
			<label_fieldtop name="label_speedeffectmod">
				<anchored to="surprise_effectmod" />
				<static textres="char_label_mod_effect" />
                <tooltip textres="char_label_mod_effect_tooltip" />
            </label_fieldtop>

            <surprise_mod_plus />
            
            <surprise_number_mod name="surprise_mod" source="surprise.mod">
                <displaysign />
                <tooltip textres="char_label_mod_mod_tooltip" />
            </surprise_number_mod>
			<label_fieldtop name="label_speedbasemoditem">
				<anchored to="surprise_mod" />
				<static textres="char_label_mod_mod" />
                <tooltip textres="char_label_mod_mod_tooltip" />
            </label_fieldtop>
            
            <surprise_mod_plus />

            <surprise_number_mod name="surprise_tempmod" source="surprise.tempmod">
                <displaysign />
                <tooltip textres="char_label_mod_temp_tooltip" />
            </surprise_number_mod>
			<label_fieldtop name="label_surprisetempmod">
				<anchored to="surprise_tempmod" />
				<static textres="char_label_mod_temp" />
                <tooltip textres="char_label_mod_temp_tooltip" />
            </label_fieldtop>
            
            <label>
                <anchored >
                    <top parent="surprisebase" />
                    <left parent="surprisebase" anchor="right" relation="relative" offset="10" />
                </anchored>
                <static text="=" />
            </label>

            <surprise_number_total name="surprise_total" source="surprise.total">
                <anchored height="18" width="30" >
                    <top parent="surprisebase" />
                    <left parent="surprisebase" anchor="right" relation="relative" offset="10" />
                </anchored>
                <tooltip textres="char_label_surprisetotal_tooltip" />
                <font>arial-bold-8</font>
            </surprise_number_total>
			<label_fieldtop name="label_surprisetotal">
				<anchored to="surprise_total" />
				<static textres="char_label_surprisetotal" />
                <tooltip textres="char_label_surprisetotal_tooltip" />
            </label_fieldtop>

			<close_charsheethelper />
		</sheetdata>
	</windowclass>
	
	<windowclass name="charsheet_healthcalc">
		<frame>charsheethelper</frame>
		<placement>
			<size width="400" height="120" />
		</placement>
		<nodelete />
		<playercontrol />
		<sheetdata>
			<windowtitlebar_char name="title">
				<prefix>char_healthcalc_title</prefix>
			</windowtitlebar_char>
			<anchor_title_charsheethelper name="contentanchor" />

			<anchor_column name="columnanchor">
				<anchored to="contentanchor" position="below" offset="0,-5" />
			</anchor_column>
			
			<!-- Hit Dice Detail -->
			<label name="label_hddetail">
				<anchored width="80">
					<top parent="columnanchor" anchor="bottom" relation="relative" offset="20" />
					<left offset="30" />
				</anchored>
				<static textres="char_label_hddetail" />
			</label>
			<label name="label_hddummy">
				<anchored to="label_hddetail" position="righthigh" offset="5,0" width="45" height="20" />
				<static textres="char_label_hdclass" />
				<center />
			</label>
			<label name="label_hdplus">
				<anchored to="label_hddummy" position="righthigh" offset="5,0" width="10" />
				<static>+</static>
				<center />
			</label>
			<cycler_abilitybase name="hdstat">
				<anchored to="label_hdplus" position="righthigh" offset="5,0" width="45" height="20" />
				<source><name>hp.hdstat</name></source>
			</cycler_abilitybase>
			<label_fieldtop name="label_hdstat">
				<anchored to="hdstat" />
				<static textres="char_label_hdstat" />
			</label_fieldtop>
			<label name="label_hdplus2">
				<anchored to="hdstat" position="righthigh" offset="5,0" width="10" />
				<static>+</static>
				<center />
			</label>
			<cycler_ability name="hdstat2">
				<anchored to="label_hdplus2" position="righthigh" offset="5,0" width="45" height="20" />
				<source><name>hp.hdstat2</name></source>
			</cycler_ability>
			<label_fieldtop name="label_hdstat2">
				<anchored to="hdstat2" />
				<static textres="2nd" />
			</label_fieldtop>
			<label name="label_hdplus3">
				<anchored to="hdstat2" position="righthigh" offset="5,0" width="10" />
				<static>+</static>
				<center />
			</label>
			<basicnumber name="hdmod" source="hp.hdmod">
				<anchored to="label_hdplus3" position="righthigh" offset="5,0" width="45" height="20" />
				<hideonvalue value="0" />
			</basicnumber>
			<label_fieldtop name="label_hdmod">
				<anchored to="hdmod" />
				<static textres="char_label_hdmisc" />
			</label_fieldtop>

			<close_charsheethelper />
		</sheetdata>
	</windowclass>
    
	<windowclass name="charsheet_abilities_details">
		<frame>charsheethelper</frame>
		<placement>
			<size width="530" height="475" />
		</placement>
		<nodelete />
		<sheetdata>
            <windowtitlebar name="title">
                <prefix>charsheet_abilities_detail_title</prefix>
                <bounds merge="replace">0,10,-1,120</bounds>
                <field>name</field>
                <font>subwindowtitle</font>
                <script>
                    function setValue(sTitle)
                        if widgetTitle then
                            if prefix then
                                sTitle = Interface.getString(prefix[1]) .. " - " .. sTitle;
                            end
                            widgetTitle.setText(sTitle);
                            updatePosition();
                        end
                    end
                </script>
            </windowtitlebar>
            
            <genericcontrol name="contentanchor" >
                <anchored height="0">
                    <top parent="title" anchor="bottom" offset="0" />
                    <left parent="" anchor="left" offset="20" />
                    <right parent="" anchor="right" offset="-20" />
                </anchored>
                <disabled />
            </genericcontrol>
			<genericcontrol name="leftanchor">
				<anchored width="0" height="0">
					<top offset="90" />
					<top />
					<left offset="15" />
					<left />
				</anchored>
				<invisible />
			</genericcontrol>

            <!-- strength base -->
            <label_ability_details_stat name="strength_label">
				<anchored>
					<top offset="5" />
                    <left offset="30" />
				</anchored>
				<static text="Strength" />
            </label_ability_details_stat>

            
            <ability_number_base name="strength_base" source="abilities.strength.base">
                <tooltip textres="charsheet_abilities_base_tooltip" />
				<anchored to="strength_label" />
            </ability_number_base>
			<label_fieldtop name="label_ability_strbase_top">
                <tooltip textres="charsheet_abilities_base_tooltip" />
				<anchored to="strength_base" />
				<static text="Base" />
			</label_fieldtop>
            
            <!-- strength base item mods -->
            <ability_number_base name="strength_base_item" source="abilities.strength.baseitem">
                <tooltip textres="charsheet_abilities_baseitem_tooltip" />
                <gmeditonly />
                <default>0</default>
				<anchored to="strength_label" />
            </ability_number_base>
			<label_fieldtop name="label_ability_strbaseitem_top">
                <tooltip textres="charsheet_abilities_baseitem_tooltip" />
				<anchored to="strength_base_item" />
				<static text="Base" />
			</label_fieldtop>
			<label_fieldtop name="label_ability_strbaseitem_top_top">
                <tooltip textres="charsheet_abilities_baseitem_tooltip" />
				<anchored to="label_ability_strbaseitem_top" />
				<static text="Item" />
			</label_fieldtop>

            <!-- strength basemod -->
            <ability_number_base name="strength_base_mod" source="abilities.strength.basemod">
                <tooltip textres="charsheet_abilities_basemod_tooltip" />
                <gmeditonly />
                <default>0</default>
				<anchored to="strength_label" />
            </ability_number_base>
			<label_fieldtop name="label_ability_strbasemod_top">
                <tooltip textres="charsheet_abilities_basemod_tooltip" />
				<anchored to="strength_base_mod" />
				<static text="Base" />
			</label_fieldtop>
			<label_fieldtop name="label_ability_strbasemod_top_top">
                <tooltip textres="charsheet_abilities_basemod_tooltip" />
				<anchored to="label_ability_strbasemod_top" />
				<static text="Mod" />
			</label_fieldtop>

            <!-- strength item mods -->
            <label_plus>
                <anchored to="strength_label"/>
            </label_plus>
            <ability_number_mod name="strength_item_mod" source="abilities.strength.itemmod">
                <tooltip textres="charsheet_abilities_itemmod_tooltip" />
                <gmeditonly />
				<anchored to="strength_label" />
            </ability_number_mod>
			<label_fieldtop name="label_ability_stritemmod_top">
                <tooltip textres="charsheet_abilities_itemmod_tooltip" />
				<anchored to="strength_item_mod" />
				<static text="Mod" />
			</label_fieldtop>
			<label_fieldtop name="label_ability_stritemmod_top_top">
                <tooltip textres="charsheet_abilities_itemmod_tooltip" />
				<anchored to="label_ability_stritemmod_top" />
				<static text="Item" />
			</label_fieldtop>

            <!-- strength effect mods -->
            <label_plus>
                <anchored to="strength_label"/>
            </label_plus>
            <ability_number_mod name="strength_effect_mod" source="abilities.strength.effectmod">
                <tooltip textres="charsheet_abilities_effectmod_tooltip" />
                <gmeditonly />
				<anchored to="strength_label" />
            </ability_number_mod>
			<label_fieldtop name="label_ability_streffectmod_top">
                <tooltip textres="charsheet_abilities_effectmod_tooltip" />
				<anchored to="strength_effect_mod" />
				<static text="Mod" />
			</label_fieldtop>
			<label_fieldtop name="label_ability_streffectmod_top_top">
                <tooltip textres="charsheet_abilities_effectmod_tooltip" />
				<anchored to="label_ability_streffectmod_top" />
				<static text="Effect" />
			</label_fieldtop>
            
            <!-- strength mods -->
            <label_plus>
                <anchored to="strength_label"/>
            </label_plus>
            <ability_number_mod name="strength_mod" source="abilities.strength.adjustment">
                <tooltip textres="charsheet_abilities_adjustment_tooltip" />
				<anchored to="strength_label" />
            </ability_number_mod>
			<label_fieldtop name="label_ability_strmod_top">
                <tooltip textres="charsheet_abilities_adjustment_tooltip" />
				<anchored to="strength_mod" />
				<static text="Mod" />
			</label_fieldtop>

            <!-- strength temp mods -->
            <label_plus>
                <anchored to="strength_label"/>
            </label_plus>
            <ability_number_mod name="strength_temp" source="abilities.strength.tempmod">
                <tooltip textres="charsheet_abilities_tempmod_tooltip" />
				<anchored to="strength_label" />
            </ability_number_mod>
			<label_fieldtop name="label_ability_strtempmod_top">
                <tooltip textres="charsheet_abilities_tempmod_tooltip" />
				<anchored to="strength_temp" />
				<static text="Mod" />
			</label_fieldtop>
			<label_fieldtop name="label_ability_strtempmod_top_top">
                <tooltip textres="charsheet_abilities_tempmod_tooltip" />
				<anchored to="label_ability_strtempmod_top" />
				<static text="Temp." />
			</label_fieldtop>

            <!-- strength total -->
            <ability_details_total name="strength_total" source="abilities.strength.score">
				<target>strength</target>
                <anchored to="strength_label"/>
            </ability_details_total>
			<label_fieldtop name="strength_total_top">
				<anchored to="strength_total" />
				<static text="Total" />
			</label_fieldtop>
            
            
            
            <!-- strength percent base -->
            <label_ability_details name="strength_percent_label">
				<anchored>
					<top offset="30" />
                    <left offset="30" />
				</anchored>
				<static text="Str %" />
            </label_ability_details>

            <ability_percent_number_base name="strength_percent_base" source="abilities.strength.percentbase">
                <tooltip textres="charsheet_abilities_base_tooltip" />
				<anchored to="strength_percent_label" />
            </ability_percent_number_base>

            <!-- strength percent item base -->
            <ability_percent_number_base name="strength_percent_base_item" source="abilities.strength.percentbaseitem">
                <tooltip textres="charsheet_abilities_baseitem_tooltip" />
                <gmeditonly />
				<anchored to="strength_percent_label" />
            </ability_percent_number_base>
            
            <!-- strength percent basemod -->
            <ability_percent_number_base name="strength_percent_base_mod" source="abilities.strength.percentbasemod">
                <tooltip textres="charsheet_abilities_basemod_tooltip" />
                <gmeditonly />
				<anchored to="strength_percent_label" />
            </ability_percent_number_base>

            <!-- strength percent item mods -->
            <label_plus>
                <anchored to="strength_percent_label"/>
            </label_plus>
            <ability_number_mod name="strength_percent_item_mod" source="abilities.strength.percentitemmod">
                <tooltip textres="charsheet_abilities_itemmod_tooltip" />
                <gmeditonly />
				<anchored to="strength_percent_label" />
            </ability_number_mod>
            <!-- strength percent effect mods -->
            <label_plus>
                <anchored to="strength_percent_label"/>
            </label_plus>
            <ability_number_mod name="strength_percent_effect_mod" source="abilities.strength.percenteffectmod">
                <tooltip textres="charsheet_abilities_effectmod_tooltip" />
                <gmeditonly />
				<anchored to="strength_percent_label" />
            </ability_number_mod>
            <!-- strength percent mods -->
            <label_plus>
                <anchored to="strength_percent_label"/>
            </label_plus>
            <ability_number_mod name="strength_percent_mod" source="abilities.strength.percentadjustment">
                <tooltip textres="charsheet_abilities_adjustment_tooltip" />
				<anchored to="strength_percent_label" />
            </ability_number_mod>

            <!-- strength percent temp mods -->
            <label_plus>
                <anchored to="strength_percent_label"/>
            </label_plus>
            <ability_number_mod name="strength_percent_temp" source="abilities.strength.percenttempmod">
                <tooltip textres="charsheet_abilities_tempmod_tooltip" />
				<anchored to="strength_percent_label" />
            </ability_number_mod>

            <!-- strength percent total -->
            <ability_details_percent_total name="strength_percent_total"  source="abilities.strength.percent">
				<target>strength</target>
                <anchored to="strength_percent_label"/>
            </ability_details_percent_total>
            
            <!-- dex -->
            <!-- dex  base -->
            <label_ability_details_stat name="dexterity_label">
				<anchored>
					<top offset="55" />
                    <left offset="30" />
				</anchored>
				<static text="Dexterity" />
            </label_ability_details_stat>

            <ability_number_base name="dexterity_base" source="abilities.dexterity.base">
                <tooltip textres="charsheet_abilities_base_tooltip" />
				<anchored to="dexterity_label" />
            </ability_number_base>
            
            <!-- dex  base item -->
            <ability_number_base name="dexterity_base_item" source="abilities.dexterity.baseitem">
                <tooltip textres="charsheet_abilities_baseitem_tooltip" />
                <gmeditonly />
                <default>0</default>
				<anchored to="dexterity_label" />
            </ability_number_base>

            <!-- dex  basemod -->
            <ability_number_base name="dexterity_base_mod" source="abilities.dexterity.basemod">
                <tooltip textres="charsheet_abilities_basemod_tooltip" />
                <gmeditonly />
                <default>0</default>
				<anchored to="dexterity_label" />
            </ability_number_base>

            <!-- dex  item mods -->
            <label_plus>
                <anchored to="dexterity_label"/>
            </label_plus>
            <ability_number_mod name="dexterity_item_mod" source="abilities.dexterity.itemmod">
                <tooltip textres="charsheet_abilities_itemmod_tooltip" />
                <gmeditonly />
				<anchored to="dexterity_label" />
            </ability_number_mod>
            <!-- dex  effect mods -->
            <label_plus>
                <anchored to="dexterity_label"/>
            </label_plus>
            <ability_number_mod name="dexterity_effect_mod" source="abilities.dexterity.effectmod">
                <tooltip textres="charsheet_abilities_effectmod_tooltip" />
                <gmeditonly />
				<anchored to="dexterity_label" />
            </ability_number_mod>
            <!-- dex  mods -->
            <label_plus>
                <anchored to="dexterity_label"/>
            </label_plus>
            <ability_number_mod name="dexterity_mod" source="abilities.dexterity.adjustment">
                <tooltip textres="charsheet_abilities_adjustment_tooltip" />
				<anchored to="dexterity_label" />
            </ability_number_mod>

            <!-- dex  temp mods -->
            <label_plus>
                <anchored to="dexterity_label"/>
            </label_plus>
            <ability_number_mod name="dexterity_temp" source="abilities.dexterity.tempmod">
                <tooltip textres="charsheet_abilities_tempmod_tooltip" />
				<anchored to="dexterity_label" />
            </ability_number_mod>

            <!-- dex  total -->
            <ability_details_total name="dexterity_total"  source="abilities.dexterity.score">
				<target>dexterity</target>
                <anchored to="dexterity_label"/>
            </ability_details_total>
            
            <!-- dexterity percent base -->
            <label_ability_details name="dexterity_percent_label">
				<anchored>
					<top offset="80" />
                    <left offset="30" />
				</anchored>
				<static text="Dex %" />
            </label_ability_details>

            <ability_percent_number_base name="dexterity_percent_base" source="abilities.dexterity.percentbase">
                <tooltip textres="charsheet_abilities_base_tooltip" />
				<anchored to="dexterity_percent_label" />
            </ability_percent_number_base>
            
            <!-- dexterity percent base item -->
            <ability_percent_number_base name="dexterity_percent_base_item" source="abilities.dexterity.percentbaseitem">
                <tooltip textres="charsheet_abilities_baseitem_tooltip" />
                <gmeditonly />
                <default>0</default>
				<anchored to="dexterity_percent_label" />
            </ability_percent_number_base>
            
            <!-- dexterity percent basemod -->
            <ability_percent_number_base name="dexterity_percent_base_mod" source="abilities.dexterity.percentbasemod">
                <tooltip textres="charsheet_abilities_basemod_tooltip" />
                <gmeditonly />
                <default>0</default>
				<anchored to="dexterity_percent_label" />
            </ability_percent_number_base>

            <!-- dexterity percent item mods -->
            <label_plus>
                <anchored to="dexterity_percent_label"/>
            </label_plus>
            <ability_number_mod name="dexterity_percent_item_mod" source="abilities.dexterity.percentitemmod">
                <tooltip textres="charsheet_abilities_itemmod_tooltip" />
                <gmeditonly />
				<anchored to="dexterity_percent_label" />
            </ability_number_mod>
            <!-- dexterity percent effect mods -->
            <label_plus>
                <anchored to="dexterity_percent_label"/>
            </label_plus>
            <ability_number_mod name="dexterity_percent_effect_mod" source="abilities.dexterity.percenteffectmod">
                <tooltip textres="charsheet_abilities_effectmod_tooltip" />
                <gmeditonly />
				<anchored to="dexterity_percent_label" />
            </ability_number_mod>
            <!-- dexterity percent mods -->
            <label_plus>
                <anchored to="dexterity_percent_label"/>
            </label_plus>
            <ability_number_mod name="dexterity_percent_mod" source="abilities.dexterity.percentadjustment">
                <tooltip textres="charsheet_abilities_adjustment_tooltip" />
				<anchored to="dexterity_percent_label" />
            </ability_number_mod>

            <!-- dexterity percent temp mods -->
            <label_plus>
                <anchored to="dexterity_percent_label"/>
            </label_plus>
            <ability_number_mod name="dexterity_percent_temp" source="abilities.dexterity.percenttempmod">
                <tooltip textres="charsheet_abilities_tempmod_tooltip" />
				<anchored to="dexterity_percent_label" />
            </ability_number_mod>

            <!-- dexterity percent total -->
            <ability_details_percent_total name="dexterity_percent_total" source="abilities.dexterity.percent">
				<target>dexterity</target>
                <anchored to="dexterity_percent_label"/>
            </ability_details_percent_total>
            
            

            <!-- constitution -->
            <!-- constitution  base -->
            <label_ability_details_stat name="constitution_label">
				<anchored>
					<top offset="105" />
                    <left offset="30" />
				</anchored>
				<static text="Constitution" />
            </label_ability_details_stat>

            <ability_number_base name="constitution_base" source="abilities.constitution.base">
                <tooltip textres="charsheet_abilities_base_tooltip" />
				<anchored to="constitution_label" />
            </ability_number_base>
            
            <!-- constitution  base item -->
            <ability_number_base name="constitution_base_mod" source="abilities.constitution.baseitem">
                <tooltip textres="charsheet_abilities_baseitem_tooltip" />
                <gmeditonly />
                <default>0</default>
				<anchored to="constitution_label" />
            </ability_number_base>

            <!-- constitution  basemod -->
            <ability_number_base name="constitution_base_mod" source="abilities.constitution.basemod">
                <tooltip textres="charsheet_abilities_basemod_tooltip" />
                <gmeditonly />
                <default>0</default>
				<anchored to="constitution_label" />
            </ability_number_base>

            <!-- constitution  item mods -->
            <label_plus>
                <anchored to="constitution_label"/>
            </label_plus>
            <ability_number_mod name="constitution_item_mod" source="abilities.constitution.itemmod">
                <tooltip textres="charsheet_abilities_itemmod_tooltip" />
                <gmeditonly />
				<anchored to="constitution_label" />
            </ability_number_mod>
            <!-- constitution  effect mods -->
            <label_plus>
                <anchored to="constitution_label"/>
            </label_plus>
            <ability_number_mod name="constitution_effect_mod" source="abilities.constitution.effectmod">
                <tooltip textres="charsheet_abilities_effectmod_tooltip" />
                <gmeditonly />
				<anchored to="constitution_label" />
            </ability_number_mod>
            <!-- constitution  mods -->
            <label_plus>
                <anchored to="constitution_label"/>
            </label_plus>
            <ability_number_mod name="constitution_mod" source="abilities.constitution.adjustment">
                <tooltip textres="charsheet_abilities_adjustment_tooltip" />
				<anchored to="constitution_label" />
            </ability_number_mod>

            <!-- constitution  temp mods -->
            <label_plus>
                <anchored to="constitution_label"/>
            </label_plus>
            <ability_number_mod name="constitution_temp" source="abilities.constitution.tempmod">
                <tooltip textres="charsheet_abilities_tempmod_tooltip" />
				<anchored to="constitution_label" />
            </ability_number_mod>

            <!-- constitution  total -->
            <ability_details_total name="constitution_total" source="abilities.constitution.score">
				<target>constitution</target>
                <anchored to="constitution_label"/>
            </ability_details_total>
            
            <!-- constitution percent base -->
            <label_ability_details name="constitution_percent_label">
				<anchored>
					<top  offset="130" />
                    <left offset="30" />
				</anchored>
				<static text="Con %" />
            </label_ability_details>

            <ability_percent_number_base name="constitution_percent_base" source="abilities.constitution.percentbase">
                <tooltip textres="charsheet_abilities_base_tooltip" />
				<anchored to="constitution_percent_label" />
            </ability_percent_number_base>
            
            <!-- constitution percent basemod -->
            <ability_percent_number_base name="constitution_percent_base_item" source="abilities.constitution.percentbaseitem">
                <tooltip textres="charsheet_abilities_baseitem_tooltip" />
                <gmeditonly />
                <default>0</default>
				<anchored to="constitution_percent_label" />
            </ability_percent_number_base>
            
            <!-- constitution percent basemod -->
            <ability_percent_number_base name="constitution_percent_base_mod" source="abilities.constitution.percentbasemod">
                <tooltip textres="charsheet_abilities_basemod_tooltip" />
                <gmeditonly />
                <default>0</default>
				<anchored to="constitution_percent_label" />
            </ability_percent_number_base>

            <!-- constitution percent item mods -->
            <label_plus>
                <anchored to="constitution_percent_label"/>
            </label_plus>
            <ability_number_mod name="constitution_percent_item_mod" source="abilities.constitution.percentitemmod">
                <tooltip textres="charsheet_abilities_itemmod_tooltip" />
                <gmeditonly />
				<anchored to="constitution_percent_label" />
            </ability_number_mod>
            <!-- constitution percent effect mods -->
            <label_plus>
                <anchored to="constitution_percent_label"/>
            </label_plus>
            <ability_number_mod name="constitution_percent_effect_mod" source="abilities.constitution.percenteffectmod">
                <tooltip textres="charsheet_abilities_effectmod_tooltip" />
                <gmeditonly />
				<anchored to="constitution_percent_label" />
            </ability_number_mod>
            <!-- constitution percent mods -->
            <label_plus>
                <anchored to="constitution_percent_label"/>
            </label_plus>
            <ability_number_mod name="constitution_percent_mod" source="abilities.constitution.percentadjustment">
                <tooltip textres="charsheet_abilities_adjustment_tooltip" />
				<anchored to="constitution_percent_label" />
            </ability_number_mod>

            <!-- constitution percent temp mods -->
            <label_plus>
                <anchored to="constitution_percent_label"/>
            </label_plus>
            <ability_number_mod name="constitution_percent_temp" source="abilities.constitution.percenttempmod">
                <tooltip textres="charsheet_abilities_tempmod_tooltip" />
				<anchored to="constitution_percent_label" />
            </ability_number_mod>

            <!-- constitution percent total -->
            <ability_details_percent_total name="constitution_percent_total" source="abilities.constitution.percent">
				<target>constitution</target>
                <anchored to="constitution_percent_label"/>
            </ability_details_percent_total>

            <!-- intelligence -->
            <!-- intelligence  base -->
            <label_ability_details_stat name="intelligence_label">
				<anchored>
					<top offset="155" />
                    <left offset="30" />
				</anchored>
				<static text="Intelligence" />
            </label_ability_details_stat>

            <ability_number_base name="intelligence_base" source="abilities.intelligence.base">
                <tooltip textres="charsheet_abilities_base_tooltip" />
				<anchored to="intelligence_label" />
            </ability_number_base>
            
            <!-- intelligence  base item -->
            <ability_number_base name="intelligence_base_mod" source="abilities.intelligence.baseitem">
                <tooltip textres="charsheet_abilities_baseitem_tooltip" />
                <gmeditonly />
                <default>0</default>
				<anchored to="intelligence_label" />
            </ability_number_base>
            <!-- intelligence  basemod -->
            <ability_number_base name="intelligence_base_mod" source="abilities.intelligence.basemod">
                <tooltip textres="charsheet_abilities_basemod_tooltip" />
                <gmeditonly />
                <default>0</default>
				<anchored to="intelligence_label" />
            </ability_number_base>

            <!-- intelligence  item mods -->
            <label_plus>
                <anchored to="intelligence_label"/>
            </label_plus>
            <ability_number_mod name="intelligence_item_mod" source="abilities.intelligence.itemmod">
                <tooltip textres="charsheet_abilities_itemmod_tooltip" />
                <gmeditonly />
				<anchored to="intelligence_label" />
            </ability_number_mod>
            <!-- intelligence  effect mods -->
            <label_plus>
                <anchored to="intelligence_label"/>
            </label_plus>
            <ability_number_mod name="intelligence_effect_mod" source="abilities.intelligence.effectmod">
                <tooltip textres="charsheet_abilities_effectmod_tooltip" />
                <gmeditonly />
				<anchored to="intelligence_label" />
            </ability_number_mod>
            <!-- intelligence  mods -->
            <label_plus>
                <anchored to="intelligence_label"/>
            </label_plus>
            <ability_number_mod name="intelligence_mod" source="abilities.intelligence.adjustment">
                <tooltip textres="charsheet_abilities_adjustment_tooltip" />
				<anchored to="intelligence_label" />
            </ability_number_mod>

            <!-- intelligence  temp mods -->
            <label_plus>
                <anchored to="intelligence_label"/>
            </label_plus>
            <ability_number_mod name="intelligence_temp" source="abilities.intelligence.tempmod">
                <tooltip textres="charsheet_abilities_tempmod_tooltip" />
				<anchored to="intelligence_label" />
            </ability_number_mod>

            <!-- intelligence  total -->
            <ability_details_total name="intelligence_total" source="abilities.intelligence.score">
				<target>intelligence</target>
                <anchored to="intelligence_label"/>
            </ability_details_total>
            
            <!-- intelligence percent base -->
            <label_ability_details name="intelligence_percent_label">
				<anchored >
					<top  offset="180" />
                    <left offset="30" />
				</anchored>
				<static text="Int %" />
            </label_ability_details>

            <ability_percent_number_base name="intelligence_percent_base" source="abilities.intelligence.percentbase">
                <tooltip textres="charsheet_abilities_base_tooltip" />
				<anchored to="intelligence_percent_label" />
            </ability_percent_number_base>
            
            <!-- intelligence percent baseitem -->
            <ability_percent_number_base name="intelligence_percent_base_item" source="abilities.intelligence.percentbaseitem">
                <tooltip textres="charsheet_abilities_baseitem_tooltip" />
                <gmeditonly />
                <default>0</default>
				<anchored to="intelligence_percent_label" />
            </ability_percent_number_base>

            <!-- intelligence percent basemod -->
            <ability_percent_number_base name="intelligence_percent_base_mod" source="abilities.intelligence.percentbasemod">
                <tooltip textres="charsheet_abilities_basemod_tooltip" />
                <gmeditonly />
                <default>0</default>
				<anchored to="intelligence_percent_label" />
            </ability_percent_number_base>

            <!-- intelligence percent item mods -->
            <label_plus>
                <anchored to="intelligence_percent_label"/>
            </label_plus>
            <ability_number_mod name="intelligence_percent_item_mod" source="abilities.intelligence.percentitemmod">
                <tooltip textres="charsheet_abilities_itemmod_tooltip" />
                <gmeditonly />
				<anchored to="intelligence_percent_label" />
            </ability_number_mod>
            <!-- intelligence percent effect mods -->
            <label_plus>
                <anchored to="intelligence_percent_label"/>
            </label_plus>
            <ability_number_mod name="intelligence_percent_effect_mod" source="abilities.intelligence.percenteffectmod">
                <tooltip textres="charsheet_abilities_effectmod_tooltip" />
                <gmeditonly />
				<anchored to="intelligence_percent_label" />
            </ability_number_mod>
            <!-- intelligence percent mods -->
            <label_plus>
                <anchored to="intelligence_percent_label"/>
            </label_plus>
            <ability_number_mod name="intelligence_percent_mod" source="abilities.intelligence.percentadjustment">
                <tooltip textres="charsheet_abilities_adjustment_tooltip" />
				<anchored to="intelligence_percent_label" />
            </ability_number_mod>

            <!-- intelligence percent temp mods -->
            <label_plus>
                <anchored to="intelligence_percent_label"/>
            </label_plus>
            <ability_number_mod name="intelligence_percent_temp" source="abilities.intelligence.percenttempmod">
                <tooltip textres="charsheet_abilities_tempmod_tooltip" />
				<anchored to="intelligence_percent_label" />
            </ability_number_mod>

            <!-- intelligence percent total -->
            <ability_details_percent_total name="intelligence_percent_total" source="abilities.intelligence.percent">
				<target>intelligence</target>
                <anchored to="intelligence_percent_label"/>
            </ability_details_percent_total>

            <!-- wisdom -->
            <!-- wisdom  base -->
            <label_ability_details_stat name="wisdom_label">
				<anchored>
					<top offset="205" />
                    <left offset="30" />
				</anchored>
				<static text="Wisdom" />
            </label_ability_details_stat>

            <ability_number_base name="wisdom_base" source="abilities.wisdom.base">
                <tooltip textres="charsheet_abilities_base_tooltip" />
				<anchored to="wisdom_label" />
            </ability_number_base>
            
            <!-- wisdom  baseitem -->
            <ability_number_base name="wisdom_base_item" source="abilities.wisdom.baseitem">
                <tooltip textres="charsheet_abilities_baseitem_tooltip" />
                <gmeditonly />
                <default>0</default>
				<anchored to="wisdom_label" />
            </ability_number_base>

            <!-- wisdom  basemod -->
            <ability_number_base name="wisdom_base_mod" source="abilities.wisdom.basemod">
                <tooltip textres="charsheet_abilities_basemod_tooltip" />
                <gmeditonly />
                <default>0</default>
				<anchored to="wisdom_label" />
            </ability_number_base>

            <!-- wisdom  item mods -->
            <label_plus>
                <anchored to="wisdom_label"/>
            </label_plus>
            <ability_number_mod name="wisdom_item_mod" source="abilities.wisdom.itemmod">
                <tooltip textres="charsheet_abilities_itemmod_tooltip" />
                <gmeditonly />
				<anchored to="wisdom_label" />
            </ability_number_mod>
            <!-- wisdom  effect mods -->
            <label_plus>
                <anchored to="wisdom_label"/>
            </label_plus>
            <ability_number_mod name="wisdom_effect_mod" source="abilities.wisdom.effectmod">
                <tooltip textres="charsheet_abilities_effectmod_tooltip" />
                <gmeditonly />
				<anchored to="wisdom_label" />
            </ability_number_mod>
            <!-- wisdom  mods -->
            <label_plus>
                <anchored to="wisdom_label"/>
            </label_plus>
            <ability_number_mod name="wisdom_mod" source="abilities.wisdom.adjustment">
                <tooltip textres="charsheet_abilities_adjustment_tooltip" />
				<anchored to="wisdom_label" />
            </ability_number_mod>

            <!-- wisdom  temp mods -->
            <label_plus>
                <anchored to="wisdom_label"/>
            </label_plus>
            <ability_number_mod name="wisdom_temp" source="abilities.wisdom.tempmod">
                <tooltip textres="charsheet_abilities_tempmod_tooltip" />
				<anchored to="wisdom_label" />
            </ability_number_mod>

            <!-- wisdom  total -->
            <ability_details_total name="wisdom_total" source="abilities.wisdom.score">
				<target>wisdom</target>
                <anchored to="wisdom_label"/>
            </ability_details_total>
            
            <!-- wisdom percent base -->
            <label_ability_details name="wisdom_percent_label">
				<anchored >
					<top offset="230" />
                    <left offset="30" />
				</anchored>
				<static text="Wis %" />
            </label_ability_details>

            <ability_percent_number_base name="wisdom_percent_base" source="abilities.wisdom.percentbase">
                <tooltip textres="charsheet_abilities_base_tooltip" />
				<anchored to="wisdom_percent_label" />
            </ability_percent_number_base>
            
            <!-- wisdom percent baseitem -->
            <ability_percent_number_base name="wisdom_percent_base_item" source="abilities.wisdom.percentbaseitem">
                <tooltip textres="charsheet_abilities_baseitem_tooltip" />
                <gmeditonly />
                <default>0</default>
				<anchored to="wisdom_percent_label" />
            </ability_percent_number_base>

            <!-- wisdom percent basemod -->
            <ability_percent_number_base name="wisdom_percent_base_mod" source="abilities.wisdom.percentbasemod">
                <tooltip textres="charsheet_abilities_basemod_tooltip" />
                <gmeditonly />
                <default>0</default>
				<anchored to="wisdom_percent_label" />
            </ability_percent_number_base>

            <!-- wisdom percent item mods -->
            <label_plus>
                <anchored to="wisdom_percent_label"/>
            </label_plus>
            <ability_number_mod name="wisdom_percent_item_mod" source="abilities.wisdom.percentitemmod">
                <tooltip textres="charsheet_abilities_itemmod_tooltip" />
                <gmeditonly />
				<anchored to="wisdom_percent_label" />
            </ability_number_mod>
            <!-- wisdom percent effect mods -->
            <label_plus>
                <anchored to="wisdom_percent_label"/>
            </label_plus>
            <ability_number_mod name="wisdom_percent_effect_mod" source="abilities.wisdom.percenteffectmod">
                <tooltip textres="charsheet_abilities_effectmod_tooltip" />
                <gmeditonly />
				<anchored to="wisdom_percent_label" />
            </ability_number_mod>
            <!-- wisdom percent mods -->
            <label_plus>
                <anchored to="wisdom_percent_label"/>
            </label_plus>
            <ability_number_mod name="wisdom_percent_mod" source="abilities.wisdom.percentadjustment">
                <tooltip textres="charsheet_abilities_adjustment_tooltip" />
				<anchored to="wisdom_percent_label" />
            </ability_number_mod>

            <!-- wisdom percent temp mods -->
            <label_plus>
                <anchored to="wisdom_percent_label"/>
            </label_plus>
            <ability_number_mod name="wisdom_percent_temp" source="abilities.wisdom.percenttempmod">
                <tooltip textres="charsheet_abilities_tempmod_tooltip" />
				<anchored to="wisdom_percent_label" />
            </ability_number_mod>

            <!-- wisdom percent total -->
            <ability_details_percent_total name="wisdom_percent_total" source="abilities.wisdom.percent">
				<target>wisdom</target>
                <anchored to="wisdom_percent_label"/>
            </ability_details_percent_total>

            <!-- charisma -->
            <!-- charisma  base -->
            <label_ability_details_stat name="charisma_label">
				<anchored>
					<top offset="255" />
                    <left offset="30" />
				</anchored>
				<static text="Charisma" />
            </label_ability_details_stat>

            <ability_number_base name="charisma_base" source="abilities.charisma.base">
                <tooltip textres="charsheet_abilities_base_tooltip" />
				<anchored to="charisma_label" />
            </ability_number_base>
            
            <!-- charisma  baseitem -->
            <ability_number_base name="charisma_base_item" source="abilities.charisma.baseitem">
                <tooltip textres="charsheet_abilities_baseitem_tooltip" />
                <gmeditonly />
                <default>0</default>
				<anchored to="charisma_label" />
            </ability_number_base>

            <!-- charisma  basemod -->
            <ability_number_base name="charisma_base_mod" source="abilities.charisma.basemod">
                <tooltip textres="charsheet_abilities_basemod_tooltip" />
                <gmeditonly />
                <default>0</default>
				<anchored to="charisma_label" />
            </ability_number_base>

            <!-- charisma  item mods -->
            <label_plus>
                <anchored to="charisma_label"/>
            </label_plus>
            <ability_number_mod name="charisma_item_mod" source="abilities.charisma.itemmod">
                <tooltip textres="charsheet_abilities_itemmod_tooltip" />
                <gmeditonly />
				<anchored to="charisma_label" />
            </ability_number_mod>
            <!-- charisma  effect mods -->
            <label_plus>
                <anchored to="charisma_label"/>
            </label_plus>
            <ability_number_mod name="charisma_effect_mod" source="abilities.charisma.effectmod">
                <tooltip textres="charsheet_abilities_effectmod_tooltip" />
                <gmeditonly />
				<anchored to="charisma_label" />
            </ability_number_mod>
            <!-- charisma  mods -->
            <label_plus>
                <anchored to="charisma_label"/>
            </label_plus>
            <ability_number_mod name="charisma_mod" source="abilities.charisma.adjustment">
                <tooltip textres="charsheet_abilities_adjustment_tooltip" />
				<anchored to="charisma_label" />
            </ability_number_mod>

            <!-- charisma  temp mods -->
            <label_plus>
                <anchored to="charisma_label"/>
            </label_plus>
            <ability_number_mod name="charisma_temp" source="abilities.charisma.tempmod">
                <tooltip textres="charsheet_abilities_tempmod_tooltip" />
				<anchored to="charisma_label" />
            </ability_number_mod>

            <!-- charisma  total -->
            <ability_details_total name="charisma_total" source="abilities.charisma.score">
				<target>charisma</target>
                <anchored to="charisma_label"/>
            </ability_details_total>
            
            <!-- charisma percent base -->
            <label_ability_details name="charisma_percent_label">
				<anchored >
					<top offset="280" />
                    <left offset="30" />
				</anchored>
				<static text="Chr %" />
            </label_ability_details>

            <ability_percent_number_base name="charisma_percent_base" source="abilities.charisma.percentbase">
                <tooltip textres="charsheet_abilities_base_tooltip" />
				<anchored to="charisma_percent_label" />
            </ability_percent_number_base>
            
            <!-- charisma percent baseitem -->
            <ability_percent_number_base name="charisma_percent_base_item" source="abilities.charisma.percentbaseitem">
                <tooltip textres="charsheet_abilities_baseitem_tooltip" />
                <gmeditonly />
                <default>0</default>
				<anchored to="charisma_percent_label" />
            </ability_percent_number_base>

            <!-- charisma percent basemod -->
            <ability_percent_number_base name="charisma_percent_base_mod" source="abilities.charisma.percentbasemod">
                <tooltip textres="charsheet_abilities_basemod_tooltip" />
                <gmeditonly />
                <default>0</default>
				<anchored to="charisma_percent_label" />
            </ability_percent_number_base>

            <!-- charisma percent item mods -->
            <label_plus>
                <anchored to="charisma_percent_label"/>
            </label_plus>
            <ability_number_mod name="charisma_percent_item_mod" source="abilities.charisma.percentitemmod">
                <tooltip textres="charsheet_abilities_itemmod_tooltip" />
                <gmeditonly />
				<anchored to="charisma_percent_label" />
            </ability_number_mod>
            <!-- charisma percent effect mods -->
            <label_plus>
                <anchored to="charisma_percent_label"/>
            </label_plus>
            <ability_number_mod name="charisma_percent_effect_mod" source="abilities.charisma.percenteffectmod">
                <tooltip textres="charsheet_abilities_effectmod_tooltip" />
                <gmeditonly />
				<anchored to="charisma_percent_label" />
            </ability_number_mod>
            <!-- charisma percent mods -->
            <label_plus>
                <anchored to="charisma_percent_label"/>
            </label_plus>
            <ability_number_mod name="charisma_percent_mod" source="abilities.charisma.percentadjustment">
                <tooltip textres="charsheet_abilities_adjustment_tooltip" />
				<anchored to="charisma_percent_label" />
            </ability_number_mod>

            <!-- charisma percent temp mods -->
            <label_plus>
                <anchored to="charisma_percent_label"/>
            </label_plus>
            <ability_number_mod name="charisma_percent_temp" source="abilities.charisma.percenttempmod">
                <tooltip textres="charsheet_abilities_tempmod_tooltip" />
				<anchored to="charisma_percent_label" />
            </ability_number_mod>

            <!-- charisma percent total -->
            <ability_details_percent_total name="charisma_percent_total" source="abilities.charisma.percent">
				<target>charisma</target>
                <anchored to="charisma_percent_label"/>
            </ability_details_percent_total>



            <!-- END -->
            <close>
			<anchored>
				<top offset="24" />
				<right offset="-12" />
			</anchored>
		</close>


		</sheetdata>
	</windowclass>
    
	<windowclass name="charsheet_saves_details">
		<frame>charsheethelper</frame>
		<placement>
			<size width="550" height="400" />
		</placement>
		<nodelete />
		<sheetdata>
            <windowtitlebar name="title">
                <prefix>charsheet_saves_detail_title</prefix>
                <bounds merge="replace">0,10,-1,120</bounds>
                <field>name</field>
                <font>subwindowtitle</font>
                <script>
                    function setValue(sTitle)
                        if widgetTitle then
                            if prefix then
                                sTitle = Interface.getString(prefix[1]) .. " - " .. sTitle;
                            end
                            widgetTitle.setText(sTitle);
                            updatePosition();
                        end
                    end
                </script>
            </windowtitlebar>
            
            <genericcontrol name="contentanchor" >
                <anchored height="0">
                    <top parent="title" anchor="bottom" offset="0" />
                    <left parent="" anchor="left" offset="20" />
                    <right parent="" anchor="right" offset="-20" />
                </anchored>
                <disabled />                
            </genericcontrol>
			<genericcontrol name="leftanchor">
				<anchored width="0" height="0">
					<top offset="90" />
					<left />
				</anchored>
				<invisible />
			</genericcontrol>

            <!-- paralyzation base label -->
            <label_save_details name="paralyzation_label">
				<anchored>
					<top offset="5" />
				</anchored>
				<static textres="paralyzation" />
            </label_save_details>

                <!-- paralyzation base -->
            <save_number_base name="paralyzation_base" source="saves.paralyzation.base">
                <tooltip textres="charsheet_saves_base_tooltip" />
				<anchored to="paralyzation_label" />
            </save_number_base>
			<label_fieldtop name="label_save_base_top">
                <tooltip textres="charsheet_saves_base_tooltip" />
				<anchored to="paralyzation_base" />
				<static text="Base" />
			</label_fieldtop>
            
            <!-- paralyzation baseitem -->
            <save_number_base name="paralyzation_base_item" source="saves.paralyzation.baseitem">
                <tooltip textres="charsheet_saves_baseitem_tooltip" />
                <gmeditonly />
                <default>0</default>
				<anchored to="paralyzation_label" />
            </save_number_base>
			<label_fieldtop name="label_save_baseitem_top">
                <tooltip textres="charsheet_saves_baseitem_tooltip" />
				<anchored to="paralyzation_base_item" />
				<static text="Base" />
			</label_fieldtop>
			<label_fieldtop>
                <tooltip textres="charsheet_saves_baseitem_tooltip" />
				<anchored to="label_save_baseitem_top" />
				<static text="Mod" />
			</label_fieldtop>

            <!-- paralyzation basemod -->
            <save_number_base name="paralyzation_base_mod" source="saves.paralyzation.basemod">
                <tooltip textres="charsheet_saves_basemod_tooltip" />
                <gmeditonly />
                <default>0</default>
				<anchored to="paralyzation_label" />
            </save_number_base>
			<label_fieldtop name="label_save_basemod_top">
                <tooltip textres="charsheet_saves_basemod_tooltip" />
				<anchored to="paralyzation_base_mod" />
				<static text="Base" />
			</label_fieldtop>
			<label_fieldtop>
                <tooltip textres="charsheet_saves_basemod_tooltip" />
				<anchored to="label_save_basemod_top" />
				<static text="Mod" />
			</label_fieldtop>

            <!-- paralyzation item mods -->
            <label_plus>
                <anchored to="paralyzation_label"/>
            </label_plus>
            <save_number_mod name="paralyzation_item_mod" source="saves.paralyzation.itemmod">
                <tooltip textres="charsheet_saves_itemmod_tooltip" />
                <gmeditonly />
				<anchored to="paralyzation_label" />
            </save_number_mod>
			<label_fieldtop name="label_saves_itemmod_top">
                <tooltip textres="charsheet_saves_itemmod_tooltip" />
				<anchored to="paralyzation_item_mod" />
				<static text="Mod" />
			</label_fieldtop>
			<label_fieldtop>
                <tooltip textres="charsheet_saves_itemmod_tooltip" />
				<anchored to="label_saves_itemmod_top" />
				<static text="Item" />
			</label_fieldtop>

            <!-- paralyzation effect mods -->
            <label_plus>
                <anchored to="paralyzation_label"/>
            </label_plus>
            <save_number_mod name="paralyzation_effect_mod" source="saves.paralyzation.effectmod">
                <tooltip textres="charsheet_saves_effectmod_tooltip" />
                <gmeditonly />
				<anchored to="paralyzation_label" />
            </save_number_mod>
			<label_fieldtop name="label_saves_effectmod_top">
                <tooltip textres="charsheet_saves_effectmod_tooltip" />
				<anchored to="paralyzation_effect_mod" />
				<static text="Mod" />
			</label_fieldtop>
			<label_fieldtop>
                <tooltip textres="charsheet_saves_effectmod_tooltip" />
				<anchored to="label_saves_effectmod_top" />
				<static text="Effect" />
			</label_fieldtop>
            
            <!-- paralyzation mods -->
            <label_plus>
                <anchored to="paralyzation_label"/>
            </label_plus>
            <save_number_mod name="paralyzation_mod" source="saves.paralyzation.adjustment">
                <tooltip textres="charsheet_saves_adjustment_tooltip" />
				<anchored to="paralyzation_label" />
            </save_number_mod>
			<label_fieldtop name="label_saves_mod_top">
                <tooltip textres="charsheet_saves_adjustment_tooltip" />
				<anchored to="paralyzation_mod" />
				<static text="Mod" />
			</label_fieldtop>

            <!-- paralyzation temp mods -->
            <label_plus>
                <anchored to="paralyzation_label"/>
            </label_plus>
            <save_number_mod name="paralyzation_temp" source="saves.paralyzation.tempmod">
                <tooltip textres="charsheet_saves_tempmod_tooltip" />
				<anchored to="paralyzation_label" />
            </save_number_mod>
			<label_fieldtop name="label_saves_tempmod_top">
                <tooltip textres="charsheet_saves_tempmod_tooltip" />
				<anchored to="paralyzation_temp" />
				<static text="Mod" />
			</label_fieldtop>
			<label_fieldtop >
                <tooltip textres="charsheet_saves_tempmod_tooltip" />
				<anchored to="label_saves_tempmod_top" />
				<static text="Temp." />
			</label_fieldtop>

            <!-- paralyzation total -->
            <save_details_total name="paralyzation_total" source="saves.paralyzation.score">
				<target>paralyzation</target>
                <anchored to="paralyzation_label"/>
            </save_details_total>
			<label_fieldtop name="paralyzation_total_top">
				<anchored to="paralyzation_total" />
				<static text="Total" />
			</label_fieldtop>
            
            <!-- poison -->
            <!-- poison base label -->
            <label_save_details name="poison_label">
				<anchored>
					<top offset="30" />
				</anchored>
				<static textres="poison" />
            </label_save_details>

                <!-- poison base -->
            <save_number_base name="poison_base" source="saves.poison.base">
                <tooltip textres="charsheet_saves_base_tooltip" />
				<anchored to="poison_label" />
            </save_number_base>
            
            <!-- poison baseitem -->
            <save_number_base name="poison_base_item" source="saves.poison.baseitem">
                <tooltip textres="charsheet_saves_baseitem_tooltip" />
                <gmeditonly />
                <default>0</default>
				<anchored to="poison_label" />
            </save_number_base>

            <!-- poison basemod -->
            <save_number_base name="poison_base_mod" source="saves.poison.basemod">
                <tooltip textres="charsheet_saves_basemod_tooltip" />
                <gmeditonly />
                <default>0</default>
				<anchored to="poison_label" />
            </save_number_base>

            <!-- poison item mods -->
            <label_plus>
                <anchored to="poison_label"/>
            </label_plus>
            <save_number_mod name="poison_item_mod" source="saves.poison.itemmod">
                <tooltip textres="charsheet_saves_itemmod_tooltip" />
                <gmeditonly />
				<anchored to="poison_label" />
            </save_number_mod>

            <!-- poison effect mods -->
            <label_plus>
                <anchored to="poison_label"/>
            </label_plus>
            <save_number_mod name="poison_effect_mod" source="saves.poison.effectmod">
                <tooltip textres="charsheet_saves_effectmod_tooltip" />
                <gmeditonly />
				<anchored to="poison_label" />
            </save_number_mod>
            
            <!-- poison mods -->
            <label_plus>
                <anchored to="poison_label"/>
            </label_plus>
            <save_number_mod name="poison_mod" source="saves.poison.adjustment">
                <tooltip textres="charsheet_saves_adjustment_tooltip" />
				<anchored to="poison_label" />
            </save_number_mod>

            <!-- poison temp mods -->
            <label_plus>
                <anchored to="poison_label"/>
            </label_plus>
            <save_number_mod name="poison_temp" source="saves.poison.tempmod">
                <tooltip textres="charsheet_saves_tempmod_tooltip" />
				<anchored to="poison_label" />
            </save_number_mod>

            <!-- poison total -->
            <save_details_total name="poison_total"  source="saves.poison.score">
				<target>poison</target>
                <anchored to="poison_label"/>
            </save_details_total>

            <!-- death -->
            <!-- death base label -->
            <label_save_details name="death_label">
				<anchored>
					<top offset="55" />
				</anchored>
				<static textres="death" />
            </label_save_details>

                <!-- death base -->
            <save_number_base name="death_base" source="saves.death.base">
                <tooltip textres="charsheet_saves_base_tooltip" />
				<anchored to="death_label" />
            </save_number_base>
            
            <!-- death baseitem -->
            <save_number_base name="death_base_item" source="saves.death.baseitem">
                <tooltip textres="charsheet_saves_baseitem_tooltip" />
                <gmeditonly />
                <default>0</default>
				<anchored to="death_label" />
            </save_number_base>

            <!-- death basemod -->
            <save_number_base name="death_base_mod" source="saves.death.basemod">
                <tooltip textres="charsheet_saves_basemod_tooltip" />
                <gmeditonly />
                <default>0</default>
				<anchored to="death_label" />
            </save_number_base>

            <!-- death item mods -->
            <label_plus>
                <anchored to="death_label"/>
            </label_plus>
            <save_number_mod name="death_item_mod" source="saves.death.itemmod">
                <tooltip textres="charsheet_saves_itemmod_tooltip" />
                <gmeditonly />
				<anchored to="death_label" />
            </save_number_mod>

            <!-- death effect mods -->
            <label_plus>
                <anchored to="death_label"/>
            </label_plus>
            <save_number_mod name="death_effect_mod" source="saves.death.effectmod">
                <tooltip textres="charsheet_saves_effectmod_tooltip" />
                <gmeditonly />
				<anchored to="death_label" />
            </save_number_mod>
            
            <!-- death mods -->
            <label_plus>
                <anchored to="death_label"/>
            </label_plus>
            <save_number_mod name="death_mod" source="saves.death.adjustment">
                <tooltip textres="charsheet_saves_adjustment_tooltip" />
				<anchored to="death_label" />
            </save_number_mod>

            <!-- death temp mods -->
            <label_plus>
                <anchored to="death_label"/>
            </label_plus>
            <save_number_mod name="death_temp" source="saves.death.tempmod">
                <tooltip textres="charsheet_saves_tempmod_tooltip" />
				<anchored to="death_label" />
            </save_number_mod>

            <!-- death total -->
            <save_details_total name="death_total" source="saves.death.score">
				<target>death</target>
                <anchored to="death_label"/>
            </save_details_total>

            <!-- rod -->
            <!-- rod base label -->
            <label_save_details name="rod_label">
				<anchored>
					<top offset="80" />
				</anchored>
				<static textres="rod" />
            </label_save_details>

                <!-- rod base -->
            <save_number_base name="rod_base" source="saves.rod.base">
                <tooltip textres="charsheet_saves_base_tooltip" />
				<anchored to="rod_label" />
            </save_number_base>
            
            <!-- rod baseitem -->
            <save_number_base name="rod_base_item" source="saves.rod.baseitem">
                <tooltip textres="charsheet_saves_baseitem_tooltip" />
                <gmeditonly />
                <default>0</default>
				<anchored to="rod_label" />
            </save_number_base>

            <!-- rod basemod -->
            <save_number_base name="rod_base_mod" source="saves.rod.basemod">
                <tooltip textres="charsheet_saves_basemod_tooltip" />
                <gmeditonly />
                <default>0</default>
				<anchored to="rod_label" />
            </save_number_base>

            <!-- rod item mods -->
            <label_plus>
                <anchored to="rod_label"/>
            </label_plus>
            <save_number_mod name="rod_item_mod" source="saves.rod.itemmod">
                <tooltip textres="charsheet_saves_itemmod_tooltip" />
                <gmeditonly />
				<anchored to="rod_label" />
            </save_number_mod>

            <!-- rod effect mods -->
            <label_plus>
                <anchored to="rod_label"/>
            </label_plus>
            <save_number_mod name="rod_effect_mod" source="saves.rod.effectmod">
                <tooltip textres="charsheet_saves_effectmod_tooltip" />
                <gmeditonly />
				<anchored to="rod_label" />
            </save_number_mod>
            
            <!-- rod mods -->
            <label_plus>
                <anchored to="rod_label"/>
            </label_plus>
            <save_number_mod name="rod_mod" source="saves.rod.adjustment">
                <tooltip textres="charsheet_saves_adjustment_tooltip" />
				<anchored to="rod_label" />
            </save_number_mod>

            <!-- rod temp mods -->
            <label_plus>
                <anchored to="rod_label"/>
            </label_plus>
            <save_number_mod name="rod_temp" source="saves.rod.tempmod">
                <tooltip textres="charsheet_saves_tempmod_tooltip" />
				<anchored to="rod_label" />
            </save_number_mod>

            <!-- rod total -->
            <save_details_total name="rod_total" source="saves.rod.score">
				<target>rod</target>
                <anchored to="rod_label"/>
            </save_details_total>
            
            <!-- staff -->
            <!-- staff base label -->
            <label_save_details name="staff_label">
				<anchored>
					<top offset="105" />
				</anchored>
				<static textres="staff" />
            </label_save_details>

                <!-- staff base -->
            <save_number_base name="staff_base" source="saves.staff.base">
                <tooltip textres="charsheet_saves_base_tooltip" />
				<anchored to="staff_label" />
            </save_number_base>
            
            <!-- staff baseitem -->
            <save_number_base name="staff_base_item" source="saves.staff.baseitem">
                <tooltip textres="charsheet_saves_baseitem_tooltip" />
                <gmeditonly />
                <default>0</default>
				<anchored to="staff_label" />
            </save_number_base>

            <!-- staff basemod -->
            <save_number_base name="staff_base_mod" source="saves.staff.basemod">
                <tooltip textres="charsheet_saves_basemod_tooltip" />
                <gmeditonly />
                <default>0</default>
				<anchored to="staff_label" />
            </save_number_base>

            <!-- staff item mods -->
            <label_plus>
                <anchored to="staff_label"/>
            </label_plus>
            <save_number_mod name="staff_item_mod" source="saves.staff.itemmod">
                <tooltip textres="charsheet_saves_itemmod_tooltip" />
                <gmeditonly />
				<anchored to="staff_label" />
            </save_number_mod>

            <!-- staff effect mods -->
            <label_plus>
                <anchored to="staff_label"/>
            </label_plus>
            <save_number_mod name="staff_effect_mod" source="saves.staff.effectmod">
                <tooltip textres="charsheet_saves_effectmod_tooltip" />
                <gmeditonly />
				<anchored to="staff_label" />
            </save_number_mod>
            
            <!-- staff mods -->
            <label_plus>
                <anchored to="staff_label"/>
            </label_plus>
            <save_number_mod name="staff_mod" source="saves.staff.adjustment">
                <tooltip textres="charsheet_saves_adjustment_tooltip" />
				<anchored to="staff_label" />
            </save_number_mod>

            <!-- staff temp mods -->
            <label_plus>
                <anchored to="staff_label"/>
            </label_plus>
            <save_number_mod name="staff_temp" source="saves.staff.tempmod">
                <tooltip textres="charsheet_saves_tempmod_tooltip" />
				<anchored to="staff_label" />
            </save_number_mod>

            <!-- staff total -->
            <save_details_total name="staff_total" source="saves.staff.score">
				<target>staff</target>
                <anchored to="staff_label"/>
            </save_details_total>


            <!-- wand -->
            <!-- wand base label -->
            <label_save_details name="wand_label">
				<anchored>
					<top offset="130" />
				</anchored>
				<static textres="wand" />
            </label_save_details>

                <!-- wand base -->
            <save_number_base name="wand_base" source="saves.wand.base">
                <tooltip textres="charsheet_saves_base_tooltip" />
				<anchored to="wand_label" />
            </save_number_base>
            
            <!-- wand baseitem -->
            <save_number_base name="wand_base_item" source="saves.wand.baseitem">
                <tooltip textres="charsheet_saves_base_tooltip" />
                <gmeditonly />
                <default>0</default>
				<anchored to="wand_label" />
            </save_number_base>

            <!-- wand basemod -->
            <save_number_base name="wand_base_mod" source="saves.wand.basemod">
                <tooltip textres="charsheet_saves_basemod_tooltip" />
                <gmeditonly />
                <default>0</default>
				<anchored to="wand_label" />
            </save_number_base>

            <!-- wand item mods -->
            <label_plus>
                <anchored to="wand_label"/>
            </label_plus>
            <save_number_mod name="wand_item_mod" source="saves.wand.itemmod">
                <tooltip textres="charsheet_saves_itemmod_tooltip" />
                <gmeditonly />
				<anchored to="wand_label" />
            </save_number_mod>

            <!-- wand effect mods -->
            <label_plus>
                <anchored to="wand_label"/>
            </label_plus>
            <save_number_mod name="wand_effect_mod" source="saves.wand.effectmod">
                <tooltip textres="charsheet_saves_effectmod_tooltip" />
                <gmeditonly />
				<anchored to="wand_label" />
            </save_number_mod>
            
            <!-- wand mods -->
            <label_plus>
                <anchored to="wand_label"/>
            </label_plus>
            <save_number_mod name="wand_mod" source="saves.wand.adjustment">
                <tooltip textres="charsheet_saves_adjustment_tooltip" />
				<anchored to="wand_label" />
            </save_number_mod>

            <!-- wand temp mods -->
            <label_plus>
                <anchored to="wand_label"/>
            </label_plus>
            <save_number_mod name="wand_temp" source="saves.wand.tempmod">
                <tooltip textres="charsheet_saves_tempmod_tooltip" />
				<anchored to="wand_label" />
            </save_number_mod>

            <!-- wand total -->
            <save_details_total name="wand_total" source="saves.wand.score">
				<target>wand</target>
                <anchored to="wand_label"/>
            </save_details_total>

            <!-- petrification -->
            <!-- petrification base label -->
            <label_save_details name="petrification_label">
				<anchored>
					<top offset="155" />
				</anchored>
				<static textres="petrification" />
            </label_save_details>

            <!-- petrification base -->
            <save_number_base name="petrification_base" source="saves.petrification.base">
                <tooltip textres="charsheet_saves_base_tooltip" />
				<anchored to="petrification_label" />
            </save_number_base>
            
            <!-- petrification baseitem -->
            <save_number_base name="petrification_base_item" source="saves.petrification.baseitem">
                <tooltip textres="charsheet_saves_baseitem_tooltip" />
                <gmeditonly />
                <default>0</default>
				<anchored to="petrification_label" />
            </save_number_base>

            <!-- petrification basemod -->
            <save_number_base name="petrification_base_mod" source="saves.petrification.basemod">
                <tooltip textres="charsheet_saves_basemod_tooltip" />
                <gmeditonly />
                <default>0</default>
				<anchored to="petrification_label" />
            </save_number_base>

            <!-- petrification item mods -->
            <label_plus>
                <anchored to="petrification_label"/>
            </label_plus>
            <save_number_mod name="petrification_item_mod" source="saves.petrification.itemmod">
                <tooltip textres="charsheet_saves_itemmod_tooltip" />
                <gmeditonly />
				<anchored to="petrification_label" />
            </save_number_mod>

            <!-- petrification effect mods -->
            <label_plus>
                <anchored to="petrification_label"/>
            </label_plus>
            <save_number_mod name="petrification_effect_mod" source="saves.petrification.effectmod">
                <tooltip textres="charsheet_saves_effectmod_tooltip" />
                <gmeditonly />
				<anchored to="petrification_label" />
            </save_number_mod>
            
            <!-- petrification mods -->
            <label_plus>
                <anchored to="petrification_label"/>
            </label_plus>
            <save_number_mod name="petrification_mod" source="saves.petrification.adjustment">
                <tooltip textres="charsheet_saves_adjustment_tooltip" />
				<anchored to="petrification_label" />
            </save_number_mod>

            <!-- petrification temp mods -->
            <label_plus>
                <anchored to="petrification_label"/>
            </label_plus>
            <save_number_mod name="petrification_temp" source="saves.petrification.tempmod">
                <tooltip textres="charsheet_saves_tempmod_tooltip" />
				<anchored to="petrification_label" />
            </save_number_mod>

            <!-- petrification total -->
            <save_details_total name="petrification_total" source="saves.petrification.score">
				<target>petrification</target>
                <anchored to="petrification_label"/>
            </save_details_total>

            <!-- polymorph -->
            <!-- polymorph base label -->
            <label_save_details name="polymorph_label">
				<anchored>
					<top offset="180" />
				</anchored>
				<static textres="polymorph" />
            </label_save_details>

                <!-- polymorph base -->
            <save_number_base name="polymorph_base" source="saves.polymorph.base">
                <tooltip textres="charsheet_saves_base_tooltip" />
				<anchored to="polymorph_label" />
            </save_number_base>
            
            <!-- polymorph baseitem -->
            <save_number_base name="polymorph_base_item" source="saves.polymorph.baseitem">
                <tooltip textres="charsheet_saves_baseitem_tooltip" />
                <gmeditonly />
                <default>0</default>
				<anchored to="polymorph_label" />
            </save_number_base>

            <!-- polymorph basemod -->
            <save_number_base name="polymorph_base_mod" source="saves.polymorph.basemod">
                <tooltip textres="charsheet_saves_basemod_tooltip" />
                <gmeditonly />
                <default>0</default>
				<anchored to="polymorph_label" />
            </save_number_base>

            <!-- polymorph item mods -->
            <label_plus>
                <anchored to="polymorph_label"/>
            </label_plus>
            <save_number_mod name="polymorph_item_mod" source="saves.polymorph.itemmod">
                <tooltip textres="charsheet_saves_itemmod_tooltip" />
                <gmeditonly />
				<anchored to="polymorph_label" />
            </save_number_mod>

            <!-- polymorph effect mods -->
            <label_plus>
                <anchored to="polymorph_label"/>
            </label_plus>
            <save_number_mod name="polymorph_effect_mod" source="saves.polymorph.effectmod">
                <tooltip textres="charsheet_saves_effectmod_tooltip" />
                <gmeditonly />
				<anchored to="polymorph_label" />
            </save_number_mod>
            
            <!-- polymorph mods -->
            <label_plus>
                <anchored to="polymorph_label"/>
            </label_plus>
            <save_number_mod name="polymorph_mod" source="saves.polymorph.adjustment">
                <tooltip textres="charsheet_saves_adjustment_tooltip" />
				<anchored to="polymorph_label" />
            </save_number_mod>

            <!-- polymorph temp mods -->
            <label_plus>
                <anchored to="polymorph_label"/>
            </label_plus>
            <save_number_mod name="polymorph_temp" source="saves.polymorph.tempmod">
                <tooltip textres="charsheet_saves_tempmod_tooltip" />
				<anchored to="polymorph_label" />
            </save_number_mod>

            <!-- polymorph total -->
            <save_details_total name="polymorph_total" source="saves.polymorph.score">
				<target>polymorph</target>
                <anchored to="polymorph_label"/>
            </save_details_total>

            
            <!-- breath -->
            <!-- breath base label -->
            <label_save_details name="breath_label">
				<anchored>
					<top offset="205" />
				</anchored>
				<static textres="breath" />
            </label_save_details>

                <!-- breath base -->
            <save_number_base name="breath_base" source="saves.breath.base">
                <tooltip textres="charsheet_saves_base_tooltip" />
				<anchored to="breath_label" />
            </save_number_base>
            
            <!-- breath baseitem -->
            <save_number_base name="breath_base_item" source="saves.breath.baseitem">
                <tooltip textres="charsheet_saves_baseitem_tooltip" />
                <gmeditonly />
                <default>0</default>
				<anchored to="breath_label" />
            </save_number_base>

            <!-- breath basemod -->
            <save_number_base name="breath_base_mod" source="saves.breath.basemod">
                <tooltip textres="charsheet_saves_basemod_tooltip" />
                <gmeditonly />
                <default>0</default>
				<anchored to="breath_label" />
            </save_number_base>

            <!-- breath item mods -->
            <label_plus>
                <anchored to="breath_label"/>
            </label_plus>
            <save_number_mod name="breath_item_mod" source="saves.breath.itemmod">
                <tooltip textres="charsheet_saves_itemmod_tooltip" />
                <gmeditonly />
				<anchored to="breath_label" />
            </save_number_mod>

            <!-- breath effect mods -->
            <label_plus>
                <anchored to="breath_label"/>
            </label_plus>
            <save_number_mod name="breath_effect_mod" source="saves.breath.effectmod">
                <tooltip textres="charsheet_saves_effectmod_tooltip" />
                <gmeditonly />
				<anchored to="breath_label" />
            </save_number_mod>
            
            <!-- breath mods -->
            <label_plus>
                <anchored to="breath_label"/>
            </label_plus>
            <save_number_mod name="breath_mod" source="saves.breath.adjustment">
                <tooltip textres="charsheet_saves_adjustment_tooltip" />
				<anchored to="breath_label" />
            </save_number_mod>

            <!-- breath temp mods -->
            <label_plus>
                <anchored to="breath_label"/>
            </label_plus>
            <save_number_mod name="breath_temp" source="saves.breath.tempmod">
                <tooltip textres="charsheet_saves_tempmod_tooltip" />
				<anchored to="breath_label" />
            </save_number_mod>

            <!-- breath total -->
            <save_details_total name="breath_total" source="saves.breath.score">
				<target>breath</target>
                <anchored to="breath_label"/>
            </save_details_total>


            <!-- spell -->
            <!-- spell base label -->
            <label_save_details name="spell_label">
				<anchored>
					<top offset="230" />
				</anchored>
				<static textres="spell" />
            </label_save_details>

                <!-- spell base -->
            <save_number_base name="spell_base" source="saves.spell.base">
                <tooltip textres="charsheet_saves_base_tooltip" />
				<anchored to="spell_label" />
            </save_number_base>
            
            <!-- spell baseitem -->
            <save_number_base name="spell_base_item" source="saves.spell.baseitem">
                <tooltip textres="charsheet_saves_baseitem_tooltip" />
                <gmeditonly />
                <default>0</default>
				<anchored to="spell_label" />
            </save_number_base>

            <!-- spell basemod -->
            <save_number_base name="spell_base_mod" source="saves.spell.basemod">
                <tooltip textres="charsheet_saves_basemod_tooltip" />
                <gmeditonly />
                <default>0</default>
				<anchored to="spell_label" />
            </save_number_base>

            <!-- spell item mods -->
            <label_plus>
                <anchored to="spell_label"/>
            </label_plus>
            <save_number_mod name="spell_item_mod" source="saves.spell.itemmod">
                <tooltip textres="charsheet_saves_itemmod_tooltip" />
                <gmeditonly />
				<anchored to="spell_label" />
            </save_number_mod>

            <!-- spell effect mods -->
            <label_plus>
                <anchored to="spell_label"/>
            </label_plus>
            <save_number_mod name="spell_effect_mod" source="saves.spell.effectmod">
                <tooltip textres="charsheet_saves_effectmod_tooltip" />
                <gmeditonly />
				<anchored to="spell_label" />
            </save_number_mod>
            
            <!-- spell mods -->
            <label_plus>
                <anchored to="spell_label"/>
            </label_plus>
            <save_number_mod name="spell_mod" source="saves.spell.adjustment">
                <tooltip textres="charsheet_saves_adjustment_tooltip" />
				<anchored to="spell_label" />
            </save_number_mod>

            <!-- spell temp mods -->
            <label_plus>
                <anchored to="spell_label"/>
            </label_plus>
            <save_number_mod name="spell_temp" source="saves.spell.tempmod">
                <tooltip textres="charsheet_saves_tempmod_tooltip" />
				<anchored to="spell_label" />
            </save_number_mod>

            <!-- spell total -->
            <save_details_total name="spell_total" source="saves.spell.score">
				<target>spell</target>
                <anchored to="spell_label"/>
            </save_details_total>
            
            <!-- END -->
            <close>
			<anchored>
				<top offset="24" />
				<right offset="-12" />
			</anchored>
		</close>

		</sheetdata>
	</windowclass>
</root>
